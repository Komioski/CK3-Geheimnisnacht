#Unchanged from vanilla traditions

##############################
# COMBAT CULTURAL TRADITIONS #
##############################

tradition_winter_warriors = {
	category = combat

	layers = {
		0 = learning
		1 = western
		4 = fight.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		culture_in_winter_geographical_region_trigger = yes
	}
	parameters = {
		winter_soldier_trait_more_common = yes
		winter_trait_bonuses = yes
		can_recruit_winter_specialist = yes
		resistant_to_winter_privation = yes
	}
	character_modifier = {
		taiga_travel_danger = taiga_low_danger_reduction
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									geographical_region = world_europe_north
									geographical_region = world_europe_west
									geographical_region = world_europe_east
									geographical_region = world_steppe
									geographical_region = world_tibet
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = winter_percentage_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							culture = scope:character.culture
							any_county_province = {
								OR = {
									geographical_region = world_europe_north
									geographical_region = world_europe_west
									geographical_region = world_europe_east
									geographical_region = world_steppe
									geographical_region = world_tibet
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_forest_fighters = {
	category = combat

	layers = {
		0 = martial
		1 = western
		4 = forest.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_forest_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = forest
						terrain = taiga
					}
				}
			}
		}
	}
	parameters = {
		forest_fighter_trait_more_common = yes
		forest_trait_bonuses = yes
		can_recruit_forest_specialist = yes
	}
	character_modifier = {
		forest_travel_danger = forest_low_danger_reduction
		taiga_travel_danger = taiga_low_danger_reduction
	}
	province_modifier = {
		forest_levy_size = 0.1
		taiga_levy_size = 0.1
		forest_supply_limit_mult = 0.25
		taiga_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = forest_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = forest
							terrain = taiga
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_mountaineers = {
	category = combat

	layers = {
		0 = martial
		1 = western
		4 = mountain.dds
	}
	
	is_shown = { #Replaced by Horn Mountain Skirmishing & Caucasian Wolves
		NOR = {
			has_cultural_pillar = heritage_somalian
			has_cultural_pillar = heritage_east_african
			this = culture:georgian
			any_parent_culture_or_above = {
				this = culture:georgian
			}
			has_cultural_tradition = tradition_caucasian_wolves
			has_cultural_tradition = tradition_horn_mountain_skirmishing
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	parameters = {
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
		resistant_to_mountain_privation = yes
	}
	character_modifier = {
		mountains_travel_danger = mountains_low_danger_reduction
		desert_mountains_travel_danger = desert_mountains_low_danger_reduction
	}
	province_modifier = {
		mountains_levy_size = 0.1
		desert_mountains_levy_size = 0.1
		mountains_supply_limit_mult = 0.25
		desert_mountains_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.6
						any_county_province = {
							OR = {
								terrain = mountains
								terrain = desert_mountains
							}
						}
					}
				}
			}
			multiply = 6
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.4
						any_county_province = {
							OR = {
								terrain = mountains
								terrain = desert_mountains
							}
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_warriors_of_the_dry = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = desert.dds
	}

	is_shown = { #Replaced by Mubarizuns
		NOT = { has_cultural_pillar = heritage_arabic }
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_dryland_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = drylands
						terrain = desert
					}
				}
			}
		}
		NOT = { has_cultural_tradition = tradition_mubarizuns } #To prevent stacking after hybridization
	}
	parameters = {
		desert_warrior_trait_more_common = yes
		dry_trait_bonuses = yes
		can_recruit_dry_specialist = yes
	}
	character_modifier = {
		desert_travel_danger = desert_low_danger_reduction
		drylands_travel_danger = drylands_low_danger_reduction
		desert_mountains_travel_danger = desert_mountains_low_danger_reduction
	}
	province_modifier = {
		drylands_levy_size = 0.1
		desert_levy_size = 0.1
		drylands_supply_limit_mult = 0.25
		desert_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.6
						any_county_province = {
							OR = {
								terrain = drylands
								terrain = desert
							}
						}
					}
				}
			}
			multiply = 6
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.4
						any_county_province = {
							OR = {
								terrain = drylands
								terrain = desert
							}
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_highland_warriors = {
	category = combat

	layers = {
		0 = intrigue
		1 = western
		4 = mountain.dds
	}

	is_shown = { #Replaced by Upland Skirmishing
		NOR = {
			has_cultural_pillar = heritage_west_african
			has_cultural_tradition = tradition_upland_skirmishing
		}
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_hills_desc
			any_culture_county = {
				any_county_province = {
					terrain = hills
				}
			}
		}
	}
	
	parameters = {
		rough_terrain_expert_trait_more_common = yes
		hill_trait_bonuses = yes
		can_recruit_hill_specialist = yes
	}
	province_modifier = {
		hills_levy_size = 0.1
		hills_supply_limit_mult = 0.25
	}
	character_modifier = {
		hills_travel_danger = hills_low_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.6
						any_county_province = {
							terrain = hills
						}
					}
				}
			}
			multiply = 6
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.4
						any_county_province = {
							terrain = hills
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_jungle_warriors = {
	category = combat

	layers = {
		0 = intrigue
		1 = mena
		4 = jungle.dds
	}

	is_shown = { #Replaced by Bush Hunting
		NOR = {
			has_cultural_pillar = heritage_akan
			has_cultural_pillar = heritage_yoruba
			has_cultural_tradition = tradition_bush_hunting
		}
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_jungle_desc
			any_culture_county = {
				any_county_province = {
					terrain = jungle
				}
			}
		}
	}
	parameters = {
		jungle_stalker_trait_more_common = yes
		jungle_trait_bonuses = yes
		can_recruit_jungle_specialist = yes
	}
	character_modifier = {
		jungle_travel_danger = jungle_low_danger_reduction
	}
	province_modifier = {
		jungle_levy_size = 0.1
		jungle_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.6
						any_county_province = {
							terrain = jungle
						}
					}
				}
			}
			multiply = 6
		}
		else_if = {
			limit = {
				scope:character.culture ?= {
					any_culture_county = {
						percent > 0.4
						any_county_province = {
							terrain = jungle
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_only_the_strong = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = soldiers2.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_not_egalitarian
			NOT = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		minimum_prowess_for_knights = yes
		blademaster_trait_bonuses = yes
		prowess_from_martial_education = yes
	}
	province_modifier = {
		levy_size = -0.25
	}
	character_modifier = {
		men_at_arms_recruitment_cost = 0.25
		knight_effectiveness_mult = 1
		knight_limit = 2
		accolade_glory_gain_mult = 0.2
		men_at_arms_limit = -2
		men_at_arms_cap = -1
		maa_damage_add = 8
		maa_toughness_add = 8
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				scope:character = {
					NOR = {
						prowess >= 12
						has_trait = strong
						has_trait = physique_good
					}
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
					any_courtier = {
						count >= 10
						prowess >= 12
					}
				}
			}
			multiply = 4
		}
	}
}

tradition_warriors_by_merit = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = soldiers2.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		high_prowess_ignores_knight_restrictions = yes
		blademaster_traits_more_common = yes
	}
	character_modifier = {
		prowess_per_prestige_level = 2
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_courtier = {
								count >= 5
								prowess >= 10
								is_adult = yes
								NOT = {
									can_be_knight_trigger = { ARMY_OWNER = prev }
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = courtiers_with_prowess_who_cant_be_knight_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 150
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_egalitarian = { is_in_list = traits }
					scope:character = {
						NOT = {
							can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = this }
						}
					}
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_warrior_monks = {
	category = combat

	layers = {
		0 = martial
		1 = indian
		4 = temple.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		prowess_from_religious_traits = yes
		culture_clergy_can_fight = yes
		monastery_prowess_martial_bonus = yes
	}
	character_modifier = {
		prowess_per_piety_level = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							scope:character = {
								save_temporary_scope_as = culture_head_link
								faith = {
									any_faith_character = {
										count >= 15
										culture = scope:culture_head_link.culture
										prowess >= 10
										OR = {
											is_clergy = yes
											has_education_learning_trigger = yes
										}
									}
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_faith_clergy_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0.25
		}
	}
}

tradition_talent_acquisition = {
	category = combat

	layers = {
		0 = diplo
		1 = mena
		4 = greeting.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		can_recruit_prisoners_easily = yes
		better_knights_from_decision = yes
		pardoning_gives_loyalty = yes
	}
	character_modifier = {
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							save_temporary_scope_as = culture_head_link
							any_prisoner = {
								count >= 10
								NOR = {
									is_courtier_of = scope:culture_head_link
									is_foreign_court_or_pool_guest_of = scope:culture_head_link
								}
								OR = {
									martial >= 12
									diplomacy >= 12
									stewardship >= 12
									intrigue >= 12
									learning >= 12
									prowess >= 12
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = skilled_prisoners_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
					culture_pillar:ethos_egalitarian = { is_in_list = traits }
					culture_pillar:ethos_courtly = { is_in_list = traits }
				}
			}
			multiply = 0.5
		}
	}
}

tradition_strength_in_numbers = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = soldiers3.dds
	}

	parameters = {
		strength_in_numbers_maa_limit_bonus = yes
		strength_in_numbers_heavy_maa_ban = yes
	}
	
	province_modifier = {
		levy_size = 0.25
	}
	character_modifier = {
		supply_limit_mult = 0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = skirmishers
								value >= 500
							}	
							number_maa_soldiers_of_base_type = {
								type = archers
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_small_soldiers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 5 # The AI shouldn't really pick this very often
		if = {
			limit = {
				OR = {
					culture_has_heavy_infantry_maa = yes
					culture_has_pikemen_maa = yes
					culture_has_heavy_cavalry_maa = yes
				}
			}
			multiply = 0
		}
	}
}

tradition_frugal_armorsmiths = {
	category = combat

	layers = {
		0 = steward
		1 = western
		4 = shield.dds
	}

	parameters = {
		frugal_blacksmith_maa_size = yes
	}
	
	character_modifier = {
		army_maintenance_mult = -0.25
		men_at_arms_recruitment_cost = -0.25
		knight_effectiveness_mult = -0.6
		maa_toughness_add = -6
		levy_toughness = -8
		heavy_cavalry_toughness_add = -14
		pikemen_toughness_add = -4
		heavy_infantry_toughness_add = -4
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {	
					NOT = {
						scope:character = {	
							number_maa_soldiers_of_base_type = {
								type = skirmishers
								value >= 500
							}	
							number_maa_soldiers_of_base_type = {
								type = archers
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_small_soldiers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 5 # The AI shouldn't really pick this very often
		if = {
			limit = {
				scope:character = {
					OR = {
						number_maa_soldiers_of_base_type = {
							type = heavy_infantry
							value >= 100
						}	
						number_maa_soldiers_of_base_type = {
							type = pikemen
							value >= 100
						}	
						number_maa_soldiers_of_base_type = {
							type = heavy_cavalry
							value >= 1
						}	
						number_maa_soldiers_of_base_type = {
							type = elephant_cavalry
							value >= 1
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				OR = {
					culture_has_heavy_infantry_maa = yes
					culture_has_pikemen_maa = yes
					culture_has_heavy_cavalry_maa = yes
				}
			}
			multiply = 0
		}
	}
}

tradition_malleable_invaders = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = diplomacy.dds
	}
	
	is_shown = {
		has_dlc_feature = hybridize_culture
	}
	can_pick = {
		culture_in_non_sedentary_geographical_region_trigger = yes
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		easier_to_hybridize = yes
		cheaper_to_hybridize = yes
		cheaper_convert_to_local_culture = yes
	}
	character_modifier = {
		faith_conversion_piety_cost_mult = -0.2
		different_faith_county_opinion_mult = -0.2
		
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:heritage_turkic = { is_in_list = traits }
						culture_pillar:heritage_mongolic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = turkic_or_mongolic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0
	}
}

tradition_quarrelsome = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = speech.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		can_use_conquest_cbs = yes
		cb_lower_prestige_level_requirement = yes
		cheaper_cbs = yes
		disloyal_trait_less_spurned = yes
		disloyal_trait_more_common = yes
	}
	character_modifier = {
		monthly_county_control_growth_factor = -0.4
		
		ai_honor = -20
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_at_war = yes
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_at_war_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOT = {
					scope:character = {
						government_has_flag = government_is_tribal
					}
				}
			}
			multiply = 0.25
		}
		if = {
			limit = {
				NOR = {
					culture_pillar:heritage_turkic = { is_in_list = traits }
					culture_pillar:heritage_mongolic = { is_in_list = traits }
					is_divergent_culture = yes
				}
			}
			multiply = 0
		}
	}
}

tradition_swords_for_hire = {
	category = combat

	layers = {
		0 = martial
		1 = indian
		4 = swords.dds
	}

	is_shown = {
		NOT = { has_cultural_tradition = tradition_ep3_audacious_cadets }
	}
	
	can_pick = {
		
	}
	
	parameters = {
		wanderers_gain_extra_combat_skills = yes
		mercenary_courtiers_gain_extra_skills = yes
		more_likely_to_leave_court = yes
		unlock_voluntary_laampdom = yes
		more_likely_to_be_laamps = yes
	}
	culture_modifier = {
		mercenary_count_mult = 1
	}
	character_modifier = {
		same_culture_mercenary_hire_cost_mult = -0.15
		character_travel_speed_mult = 0.1
		character_travel_safety_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_courtly_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = education_martial_4
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_martial_edu_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				has_cultural_pillar = heritage_central_germanic
			}
			multiply = 2
		}
	}
}

tradition_reverence_for_veterans = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = knight.dds
	}
	
	parameters = {
		wounds_and_scars_give_bonuses = yes
		guardians_can_transfer_commander_traits = yes
		warrior_lodges_lift_restrictions = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = scarred
									has_trait = maimed
									has_trait = one_eyed
									has_trait = one_legged
									has_trait = disfigured
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_scars_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { # Generally good & flavorful
		value = 400
	}
}

tradition_stalwart_defenders = {
	category = combat

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = shield.dds
	}
	
	parameters = {
		can_end_defensive_wars_earlier = yes
		more_fame_for_successful_defensive_wars = yes
		more_gold_for_successful_defensive_wars = yes
		next_level_fortification = yes
	}
	character_modifier = {
		defender_advantage = 5
		controlled_province_advantage = 5
	}
	province_modifier = {
		garrison_size = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							any_county_province = {
								has_building_or_higher = march_01
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = march_building_desc
				}
			}
			if = {
				limit = {
					has_variable = defensive_traditionalist_discount
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
					culture_pillar:ethos_stoic = { is_in_list = traits }
					scope:character = {
						sub_realm_size <= medium_realm_size
					}
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 2
		}
	}
}

tradition_battlefield_looters = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = swords.dds
	}
	
	parameters = {
		gain_gold_from_battles = yes
		less_prestige_from_battles = yes
	}
	character_modifier = {
		max_loot_mult = 0.75
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = reaver
								}
							}
						}
					}
					trigger_else = {
						NOR = {
							culture_pillar:heritage_turkic = { is_in_list = traits }
							culture_pillar:heritage_mongolic = { is_in_list = traits }
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_reaver_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 75
		if = {
			limit = {
				NOR = {
					culture_pillar:heritage_turkic = { is_in_list = traits }
					culture_pillar:heritage_mongolic = { is_in_list = traits }
					scope:character = {
						government_has_flag = government_is_tribal
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_hit_and_run = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = soldiers4.dds
	}
	
	is_shown = {
		NOR = { #Replaced by Konni Raids (tradition_hussar)
			has_cultural_pillar = heritage_south_slavic
			has_cultural_pillar = heritage_magyar
			has_cultural_pillar = heritage_west_slavic
		}
	}
	can_pick = {
		trigger_if = {
			limit = {
				OR = {
					NOT = { exists = scope:replacing }
					NOT = { scope:replacing = culture_tradition:tradition_hussar }
				}	
			}
			NOT = { has_cultural_tradition = tradition_hussar } #To prevent stacking after hybridization
		}
	}

	# Iberian: Concurso Tactics
	character_modifier = {
		skirmishers_damage_add = 2
		skirmishers_screen_add = 4
		light_cavalry_damage_add = 4
		light_cavalry_screen_add = 4
		retreat_losses = -0.1
		hard_casualty_modifier = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {	
							number_maa_soldiers_of_base_type = {
								type = skirmishers
								value >= 500
							}	
							number_maa_soldiers_of_base_type = {
								type = light_cavalry
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_skirmishers_and_light_cav_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOR = {
					culture_has_skirmisher_maa = yes
					culture_has_light_cavalry_maa = yes
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_stand_and_fight = {
	category = combat

	is_shown = {
		NOR = { #Replaced by Mobile Guards
			has_cultural_pillar = heritage_israelite
			has_cultural_tradition = tradition_mobile_guards
		}
	}

	layers = {
		0 = martial
		1 = indian
		4 = battle.dds
	}
	
	character_modifier = {
		levy_toughness = 2
		maa_toughness_add = 4
		heavy_infantry_toughness_add = 4
		heavy_cavalry_toughness_add = 20
		pikemen_toughness_add = 6
		hard_casualty_modifier = 0.4
		defender_advantage = 8
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {	
							number_maa_soldiers_of_base_type = {
								type = heavy_infantry
								value >= 500
							}	
							number_maa_soldiers_of_base_type = {
								type = pikemen
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_heavy_inf_and_pikemen_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOR = {
					culture_has_heavy_infantry_maa = yes
					culture_has_heavy_cavalry_maa = yes
					culture_has_pikemen_maa = yes
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 2
		}
	}
}

tradition_adaptive_skirmishing = {
	category = combat

	layers = {
		0 = intrigue
		1 = western
		4 = soldiers4.dds
	}

	parameters = {
		next_level_military_camps = yes
	}
	
	character_modifier = {
		enemy_terrain_advantage = -0.25
		archers_damage_add = 4
		archers_toughness_add = 2
		archers_maintenance_mult = -0.05
		skirmishers_damage_add = 2
		skirmishers_toughness_add = 4
		skirmishers_maintenance_mult = -0.05	
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = skirmishers
								value >= 500
							}	
							number_maa_soldiers_of_base_type = {
								type = archers
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_small_soldiers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				scope:character = {
					OR = {
						number_maa_soldiers_of_base_type = {
							type = heavy_infantry
							value >= 200
						}	
						number_maa_soldiers_of_base_type = {
							type = pikemen
							value >= 200
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				OR = {
					culture_has_heavy_infantry_maa = yes
					culture_has_heavy_cavalry_maa = yes
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				NOR = {
					culture_has_archer_maa = yes
					culture_has_skirmisher_maa = yes
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 2
		}
	}
}

tradition_formation_fighting = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = soldiers3.dds
	}
	
	layers = {
		0 = martial
	}

	parameters = {
		next_level_barracks = yes
		formation_fighting_strategist = yes
	}

	character_modifier = {
		counter_efficiency = 0.15
		pursue_efficiency = -0.15
		archers_damage_add = 2
		archers_toughness_add = 4
		pikemen_damage_add = 4
		pikemen_toughness_add = 6
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_courtly_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = pikemen
								value >= 500
							}	
							number_maa_soldiers_of_base_type = {
								type = archers
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_archers_and_pikemen_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				scope:character = {
					OR = {
						number_maa_soldiers_of_base_type = {
							type = light_cavalry
							value >= 300
						}	
						number_maa_soldiers_of_base_type = {
							type = skirmishers
							value >= 400
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				OR = {
					culture_has_skirmisher_maa = yes
					culture_has_light_cavalry_maa = yes
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				NOR = {
					culture_has_archer_maa = yes
					culture_has_pikemen_maa = yes
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_horse_breeder = {
	category = combat

	layers = {
		0 = steward
		1 = mena
		4 = horses.dds
	}

	is_shown = {
		OR = {
			culture_has_light_cavalry_maa = yes
			culture_has_heavy_cavalry_maa = yes
			culture_has_archer_cavalry_maa = yes
		}
	}

	parameters = {
		next_level_stables = yes
	}
	
	character_modifier = {
		light_cavalry_maintenance_mult = -0.15
		light_cavalry_recruitment_cost_mult = -0.25
		heavy_cavalry_maintenance_mult = -0.15
		heavy_cavalry_recruitment_cost_mult = -0.25
		archer_cavalry_maintenance_mult = -0.15
		archer_cavalry_recruitment_cost_mult = -0.25
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						NOR = { # Culture Head need to have a 8 sized regiment of either Light/Heavy/Archer Cavalry
							number_maa_soldiers_of_base_type = {
								type = light_cavalry
								value >= 800
							}
							number_maa_soldiers_of_base_type = {
								type = heavy_cavalry
								value >= 400
							}
							number_maa_soldiers_of_base_type = {
								type = archer_cavalry
								value >= 800
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_cavalry_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = { # Reduce chance  if the culture has access to other "cavalry" types
				OR = {
					has_innovation = innovation_war_camels
					has_innovation = innovation_elephantry
				}
			}
			multiply = 0.2
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 2
		}
	}
}

tradition_longbow_competitions = {
	category = combat
	layers = {
		0 = martial
		1 = western
		4 = bow.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_west_germanic
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_goidelic
		}
	}
	can_pick = {
		OR = {
			has_cultural_pillar = heritage_west_germanic
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_goidelic
		}
	}
	
	parameters = {
		unlock_maa_longbowmen = yes
		archer_era_improvement = yes
	}
	character_modifier = {
		archers_max_size_add = 4
		heavy_cavalry_max_size_add = -2
		pikemen_max_size_add = -2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_bureaucratic_desc
				}
			}
			# Certain number of archer MaA requirement.
			if = {
				limit = {
					scope:character = {
						number_maa_soldiers_of_base_type = {
							type = archers
							# Remember to sync the below with longbow_competitions_minimum_archer_maa_value.
							value < 1200
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_lacks_archer_maa_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 800
		if = {
			limit = {
				OR = {
					culture_has_pikemen_maa = yes
					culture_has_heavy_cavalry_maa = yes
				}
			}
			multiply = 0
		}
	}
}

#######################
# CULTURAL TRADITIONS #
#######################

######################
# MAA Traditions 	 #
######################

tradition_futuwaa = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = soldiers.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_iranian
		NOR = { #Replaces Martial Admiration
			has_cultural_tradition = tradition_chanson_de_geste
			has_cultural_tradition = tradition_druzhina
			has_cultural_tradition = tradition_martial_admiration
		}
	}
	can_pick = {
		has_cultural_pillar = heritage_iranian
		NOR = { #Replaces Martial Admiration
			has_cultural_tradition = tradition_chanson_de_geste
			has_cultural_tradition = tradition_druzhina
			has_cultural_tradition = tradition_martial_admiration
		}
	}
	
	parameters = {
		unlock_maa_ayyar = yes
		can_use_sparring_duel = yes
		martial_education_more_valued = yes
		prowess_traits_more_valued = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
		knights_slightly_more_prone_to_injury = yes
		unlock_voluntary_laampdom = yes
	}
	character_modifier = {
		knight_limit = 2
		negate_prowess_penalty_add = 5
		accolade_glory_gain_mult = 0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_courtly_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 400 }
}

tradition_mubarizuns = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = soldiers.dds
	}
	
	#Can pick this if you have arabic heritage.
	is_shown = { #Replaces Warriors of the Dry
		has_cultural_pillar = heritage_arabic
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		trigger_if = {
			limit = {
				OR = {
					NOT = { exists = scope:replacing }
					NOT = { scope:replacing = culture_tradition:tradition_warriors_of_the_dry }
				}
			}
			NOT = { has_cultural_tradition = tradition_warriors_of_the_dry } #To prevent stacking after hybridization
		}
	}
	
	parameters = {
		unlock_maa_mubarizun = yes
		desert_warrior_trait_more_common = yes
		dry_trait_bonuses = yes
		can_recruit_dry_specialist = yes
	}
	character_modifier = {
		drylands_levy_size = 0.1
		desert_levy_size = 0.1
		drylands_supply_limit_mult = 0.25
		desert_supply_limit_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_desert_ribat = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = city2.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_berber
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_dryland_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = drylands
						terrain = desert
					}
				}
			}
		}
	}
	
	parameters = {
		unlock_maa_mulaththamun = yes #Mulaththamun
		desert_warrior_trait_more_common = yes
		dry_trait_bonuses = yes
		can_recruit_dry_specialist = yes
		mystic_trait_more_common = yes
	}
	character_modifier = {
		prowess_per_piety_level = 1
		desert_travel_danger = desert_low_danger_reduction
		drylands_travel_danger = drylands_low_danger_reduction
		desert_mountains_travel_danger = desert_mountains_low_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_land_of_the_bow = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = bow.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_east_african
	}
	can_pick = {
		has_cultural_pillar = heritage_east_african
	}
	
	parameters = {
		unlock_maa_archers_of_the_nile = yes
		hunting_archery_building_bonuses = yes
	}
	county_modifier = {
		floodplains_levy_size = 0.1
	}
	province_modifier = {
		garrison_size = 0.25
	}
	character_modifier = {
		defender_advantage = 5
		archers_damage_add = 4
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = archers
								value >= 800
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_archers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								terrain = floodplains
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_druzhina = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = shield.dds
	}

	#East Slavic
	#This replaces Martial Admiration
	is_shown = {
		always = no
	}
	can_pick = {
		always = no
	}
	
	parameters = {
		unlock_maa_druzhina = yes
		martial_education_more_valued = yes
		prowess_traits_more_valued = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
		knights_slightly_more_prone_to_injury = yes
		can_duel_rivals = yes
	}
	character_modifier = {
		knight_limit = 2
		negate_prowess_penalty_add = 5
		accolade_glory_gain_mult = 0.2
		heavy_infantry_toughness_add = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 400 }
}

tradition_hussar = { #Konni Raids
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = rider.dds
	}

	#This replaces Hit and Run
	is_shown = {
		always = no
	}
	can_pick = {
		always = no
	}
	
	parameters = {
		unlock_maa_hussar = yes
	}
	character_modifier = {
		skirmishers_screen_add = 2
		light_cavalry_damage_add = 6
		light_cavalry_screen_add = 6
		retreat_losses = -0.1
		hard_casualty_modifier = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = light_cavalry
								value >= 500
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_light_cavalry_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 400 }
}

tradition_horn_mountain_skirmishing = {
	category = regional

	layers = {
		0 = steward
		1 = mena
		4 = desert_mountains.dds
	}

	#In the Horn of Africa this replaces the Mountaineers tradition
	is_shown = {
		OR ={
			has_cultural_pillar = heritage_somalian
			has_cultural_pillar = heritage_east_african
		}
		NOR = {
			has_cultural_tradition = tradition_mountaineers
			has_cultural_tradition = tradition_caucasian_wolves
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	
	parameters = {
		unlock_maa_horn_warrior = yes
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	province_modifier = {
		mountains_levy_size = 0.1
		desert_mountains_levy_size = 0.1
		mountains_supply_limit_mult = 0.25
		desert_mountains_supply_limit_mult = 0.25
	}
	character_modifier = {
		mountains_travel_danger = mountains_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_bush_hunting = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = jungle.dds
	}
	
	#Replaces Jungle Warriors
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_akan
			has_cultural_pillar = heritage_yoruba
		}
		NOT = { has_cultural_tradition = tradition_jungle_warriors }
	}
	can_pick = {
	}
	
	parameters = {
		unlock_maa_bush_hunter = yes
		jungle_trait_bonuses = yes
		dry_trait_bonuses = yes
		can_recruit_jungle_specialist = yes
	}
	character_modifier = {
		archers_damage_add = 4
		jungle_supply_limit_mult = 0.25
		jungle_travel_danger = jungle_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_mobile_guards = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = forest.dds
	}

	#Replaces Stand and Fight
	is_shown = {
		has_cultural_pillar = heritage_israelite
		NOT = { has_cultural_tradition = tradition_stand_and_fight }
	}
	can_pick = {
	}
	
	parameters = {
		unlock_maa_shomer = yes
	}
	character_modifier = {
		maa_toughness_add = 4
		heavy_infantry_toughness_add = 4
		heavy_infantry_maintenance_mult = 0.1
		heavy_cavalry_toughness_add = 20
		heavy_cavalry_maintenance_mult = 0.1
		pikemen_toughness_add = 6
		pikemen_maintenance_mult = 0.1
		hard_casualty_modifier = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = skirmishers
								value >= 800
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_skirmishers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOR = {
					culture_has_heavy_infantry_maa = yes
					culture_has_heavy_cavalry_maa = yes
					culture_has_pikemen_maa = yes
				}
				OR = {
					culture_has_skirmisher_maa = yes
					culture_has_archer_maa = yes
					culture_has_light_cavalry_maa = yes
					culture_has_archer_cavalry_maa = yes
				}
			}
			multiply = 0.25
		}
	}
}

tradition_khadga_puja = {
	category = regional
	
	layers = {
		0 = martial
		1 = mena
		4 = soldiers2.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_indo_aryan
	}
	can_pick = {
		custom_description = {
			text = culture_not_egalitarian
			NOT = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		martial_education_more_valued = yes
		unlock_maa_khandayat = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
	}
	province_modifier = {
	}
	character_modifier = {
		knight_effectiveness_mult = 0.1
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
	}
}

tradition_garuda_warriors = {
	category = regional

	layers = {
		0 = martial
		1 = indian
		4 = soldiers2.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_dravidian
	}
	can_pick = {
	}
	
	parameters = {
		unlock_maa_garudas = yes
		unlock_garuda_warrior_title = yes
		martial_education_more_valued = yes
		prowess_traits_more_valued = yes
		craven_and_content_traits_looked_down_upon = yes
		loyal_trait_more_valued = yes
	}
	character_modifier = {
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
	}
}

tradition_burman_royal_army = {
	category = regional

	layers = {
		0 = martial
		1 = indian
		4 = elephant.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_burman
	}
	can_pick = {
		has_cultural_pillar = heritage_burman
	}
	
	parameters = {
		unlock_maa_palace_guards = yes
		jungle_stalker_trait_more_common = yes
		jungle_trait_bonuses = yes
		can_recruit_jungle_specialist = yes
	}
	character_modifier = {
		elephant_cavalry_damage_add = 60
		elephant_cavalry_toughness_add = 20
		jungle_travel_danger = jungle_medium_danger_reduction
		accolade_glory_gain_mult = 0.1
	}
	province_modifier = {
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							number_maa_soldiers_of_base_type = {
								type = elephant_cavalry
								value >= 5
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_has_elephants_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
	}
}

tradition_mountain_herding = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = desert_mountains.dds
	}

	#Replaces Mountain Homes
	is_shown = {
		OR ={
			has_cultural_pillar = heritage_arabic
			has_cultural_pillar = heritage_berber
		}
	}
	can_pick = {
		OR ={
			has_cultural_pillar = heritage_arabic
			has_cultural_pillar = heritage_berber
		}
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	
	parameters = {
		unlock_maa_abudrar = yes
		rough_terrain_expert_trait_more_common = yes
		desert_warrior_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	character_modifier = {
		mountains_travel_danger = mountains_high_danger_reduction
		desert_mountains_travel_danger = desert_mountains_high_danger_reduction
	}
	county_modifier = {
		desert_mountains_development_growth_factor = 0.35
	}
	province_modifier = {
		desert_mountains_construction_gold_cost = -0.1
		desert_mountains_holding_construction_gold_cost = -0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = desert_mountains
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								terrain = desert_mountains
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_forest_wardens = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = forest.dds
	}

	#Replaces Forest Folk
	is_shown = {
		always = no
	}
	can_pick = {
		always = no
	}
	
	parameters = {
		unlock_maa_metsanvartija = yes
		logging_camps_building_bonuses = yes
		can_recruit_forest_specialist = yes
		forest_fighter_trait_more_common = yes
		forest_hunt_success_chance = yes
		watermills_forestries_unlock = yes
	}
	character_modifier = {
		forest_travel_danger = forest_high_danger_reduction
		taiga_travel_danger = taiga_high_danger_reduction
	}
	county_modifier = {
		forest_development_growth_factor = 0.15
		taiga_development_growth_factor = 0.15
	}
	province_modifier = {
		forest_construction_gold_cost = -0.1
		taiga_construction_gold_cost = -0.1
		forest_holding_construction_gold_cost = -0.1
		taiga_holding_construction_gold_cost = -0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = forest_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_upland_skirmishing = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = forest.dds
	}

	#Replaces Highland Warriors
	is_shown = {
		always = no
	}
	can_pick = {
		always = no
	}
	
	parameters = {
		unlock_maa_guinea_warrior = yes
		hill_farms_building_bonuses = yes

		rough_terrain_expert_trait_more_common = yes
		hill_trait_bonuses = yes
		can_recruit_hill_specialist = yes
	}
	character_modifier = {
		hills_travel_danger = hills_medium_danger_reduction
		forest_travel_danger = forest_medium_danger_reduction
	}
	province_modifier = {
		hills_levy_size = 0.1
		hills_supply_limit_mult = 0.25
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_strong_kinship = { #There can be only one!
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = conversation.dds
	}

	is_shown = {
		always = no
	}
	can_pick = {
		always = no
	}
	
	parameters = {
		unlock_schiltron_innovation = yes
		bonuses_from_patriarch_matriarch_trait = yes
		cultural_house_personal_scheme_success_chance = yes
		landing_house_members_give_prestige = yes
		penalty_for_revoking_titles_from_house_members = yes
		loyal_trait_more_common = yes
	}
	character_modifier = {
		dynasty_house_opinion = 15
		opinion_of_liege = -10
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					exists = scope:character.house
					NOT = {
						scope:character.house = {
							any_house_member = {
								count >= 3
								has_relation_friend = scope:character
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = house_friends_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
	}
}

tradition_amharic_highlanders = { #Ethiopian Unique Tradition, replaces hill dwellers, Unlocks MAA innovation & Castration
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = mountain.dds
	}

	is_shown = {
		NOT = { has_cultural_tradition = tradition_hill_dwellers }
		OR = {
			this = culture:ethiopian
			any_parent_culture_or_above = {
				this = culture:ethiopian
			}
		}
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_hill_dwellers }
		OR = {
			this = culture:ethiopian
			any_parent_culture_or_above = {
				this = culture:ethiopian
			}
		}
		custom_description = {
			text = culture_in_hills_desc
			any_culture_county = {
				any_county_province = {
					terrain = hills
				}
			}
		}
	}
	
	parameters = {
		unlock_sarawit_innovation = yes
		can_castrate_prisoners = yes
		hill_farms_building_bonuses = yes
	}
	county_modifier = {
		hills_development_growth_factor = 0.2
	}
	province_modifier = {
		hills_construction_gold_cost = -0.1
		hills_holding_construction_gold_cost = -0.1
	}
	character_modifier = {
		hills_advantage = 5
		hills_travel_danger = hills_high_danger_reduction
		mountains_travel_danger = mountains_low_danger_reduction
		desert_mountains_travel_danger = desert_mountains_low_danger_reduction
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}


tradition_polders = { #Dutch Unique Tradition, bonuses to buildings along coastline, Unlocks MAA innovation
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = svamp.dds
	}

	is_shown = {
		OR = {
			this = culture:dutch
			any_parent_culture_or_above = {
				this = culture:dutch
			}
		}
	}
	can_pick = {
		OR = {
			this = culture:dutch
			any_parent_culture_or_above = {
				this = culture:dutch
			}
		}
		custom_description = {
			text = culture_on_coast_desc
			any_culture_county = {
				any_county_province = {
					is_coastal = yes
				}
			}
		}
	}
	
	parameters = {
		unlock_adaptive_militia_innovation = yes
		coastal_agriculture_building_bonuses = yes
		coastal_holding_bonuses = yes
	}
	character_modifier = {
		skirmishers_damage_add = 4
		skirmishers_screen_add = 4
		coastal_sea_travel_danger = low_sea_danger_reduction
		wetlands_travel_danger = wetlands_medium_danger_reduction
		floodplains_travel_danger = floodplains_medium_danger_reduction
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_bureaucratic_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.6
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			multiply = 3
		}
	}
}

tradition_caucasian_wolves = {
	category = regional

	layers = {
		0 = steward
		1 = mena
		4 = mountain.dds
	}
	
	#For Georgians this replaces the Mountaineers tradition
	is_shown = {
		OR = {
			this = culture:georgian
			any_parent_culture_or_above = {
				this = culture:georgian
			}
		}
		NOR = {
			has_cultural_tradition = tradition_mountaineers
			has_cultural_tradition = tradition_horn_mountain_skirmishing
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	
	parameters = {
		unlock_maa_monaspa = yes
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	province_modifier = {
		mountains_levy_size = 0.1
		desert_mountains_levy_size = 0.1
		mountains_supply_limit_mult = 0.25
		desert_mountains_supply_limit_mult = 0.25
	}
	character_modifier = {
		mountains_travel_danger = mountains_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 1000 
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_hird = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = viking.dds
	}
	
	is_shown = { #Replaces Warrior Culture
		NOR = {
			has_cultural_tradition = tradition_warrior_culture
			has_cultural_tradition = tradition_fp1_coastal_warriors
		}
		OR = {
			AND = {
				has_cultural_pillar = heritage_north_germanic
				has_fp1_dlc_trigger = no
			}
			any_parent_culture_or_above = {
				OR = {
					this = culture:old_saxon
					this = culture:norse #For instance Norman culture
				}
			}
		}
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		scope:character = {
			government_has_flag = government_is_tribal
		}
	}
	
	parameters = {
		unlock_maa_huscarls = yes
		strong_traits_more_valued = yes
		strong_traits_more_common = yes
		weak_traits_looked_down_upon = yes
		rowdy_trait_more_common = yes
		pensive_trait_less_common = yes
		cultrad_unlocks_t2_redouble_guards = yes
		unlock_voluntary_laampdom = yes
		more_likely_to_be_laamps = yes
	}
	character_modifier = {
		cultural_head_fascination_mult = -0.05
		knight_limit = 1
		prowess = 2
		ai_boldness = 25
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {	
									has_trait = strong
									has_trait = physique_good
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = strong_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}


tradition_chanson_de_geste = {
#Replaces Martial Admiration
	category = regional

	layers = {
		0 = martial
		1 = indian
		4 = knight.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_frankish
		NOR = { #Replaces Martial Admiration
			has_cultural_tradition = tradition_futuwaa
			has_cultural_tradition = tradition_druzhina
			has_cultural_tradition = tradition_martial_admiration
		}
	}
	can_pick = {
		has_cultural_pillar = heritage_frankish
		NOR = { #Replaces Martial Admiration
			has_cultural_tradition = tradition_futuwaa
			has_cultural_tradition = tradition_druzhina
			has_cultural_tradition = tradition_martial_admiration
		}
	}

	parameters = {
		unlock_valets_innovation = yes
		poet_trait_gives_bonuses = yes
		poet_trait_more_common = yes
		martial_education_more_valued = yes
		prowess_traits_more_valued = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
		knights_slightly_more_prone_to_injury = yes
		can_duel_rivals = yes
		can_host_joust_contests = yes
		knight_errant_trait_bonuses = yes
	}
	character_modifier = {
		knight_limit = 2
		negate_prowess_penalty_add = 5 # Wounded knights fight better!
		accolade_glory_gain_mult = 0.2
		owned_legend_spread_mult = 0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 400 }
}

#############################
# REALM CULTURAL TRADITIONS #
#############################

tradition_court_eunuchs = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = ceremony.dds
	}

	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_byzantine_succession
			NOT = { culture_tradition:tradition_byzantine_succession = { is_in_list = traits } }
		}
		custom_tooltip = {
			scope:character = {
				OR = {
					any_courtier = { is_eunuch_trigger = yes }
					any_vassal = { is_eunuch_trigger = yes }
					any_councillor = { is_eunuch_trigger = yes }
				}
			}
			text = no_eunuch_in_realms
		}
	}
	
	parameters = {
		can_castrate_prisoners = yes
		eunuch_trait_bonuses = yes
		can_appoint_chief_eunuch = yes
		family_castration = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_councillor = { is_eunuch_trigger = yes }
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = no_eunuch_councillors_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_councillor = { is_eunuch_trigger = yes }
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_legalistic = {
	category = realm

	layers = {
		0 = learning
		1 = mediterranean
		4 = quill.dds
	}

	is_shown = { # strict laws are heavily tied to the Religion during this era
		scope:character.faith = {
			OR = {
				has_doctrine = doctrine_spiritual_head
				has_doctrine = doctrine_temporal_head
			}
		}
	}
	
	parameters = {
		cheaper_to_change_laws = yes
		just_trait_more_common = yes
		just_trait_gives_bonuses = yes
		vassals_more_likely_accept_punishments = yes
		legalistic_administrator_bonuses = yes
	}
	character_modifier = {
		title_creation_cost_mult = -0.3
		vassal_limit = 30
		monthly_prestige_gain_per_dread_mult = -0.01
		tyranny_gain_mult = 0.25
		tax_slot_add  = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						has_innovation = innovation_baliffs
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_baliffs_innovation_desc
				}
			}
			if = {
				limit = {
					NOT = {
						has_innovation = innovation_development_02
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_development_02_innovation_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				scope:character = {
					any_vassal = {
						count < 30
					}
				}
			}
			multiply = 0.5
		}
		if = {
			limit = {
				NOR = {
					has_innovation = innovation_baliffs
					has_innovation = innovation_development_02
				}
			}
			multiply = 0.25
		}
	}
}

tradition_republican_legacy = {
	category = regional

	layers = {
		0 = steward
		1 = mediterranean
		4 = laurel.dds
	}

	is_shown = {
		OR ={
			this = culture:roman
			any_parent_culture_or_above = {
				this = culture:roman
			}
		}
		NOT = { has_cultural_tradition = tradition_parochialism }
	}
	can_pick = {
		OR ={
			this = culture:roman
			any_parent_culture_or_above = {
				this = culture:roman
			}
		}
		NOT = { has_cultural_tradition = tradition_parochialism }
	}
	
	parameters = {
		can_make_republican_vassals = yes
		unlock_innovation_pike_columns = yes
		city_buildings_more_powerful = yes
		city_buildings_less_control = yes
		republican_vassals_pay_more = yes
		more_parochial_vassals = yes
		next_level_cities = yes
	}
	character_modifier = {
		city_holding_build_gold_cost = -0.05
		city_holding_holding_build_gold_cost = -0.05
		barons_and_minor_landholders_opinion = -20
		parochial_opinion = -20
		parochial_tax_contribution_mult = 0.1
		parochial_levy_contribution_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.9
								culture = scope:character.culture
								any_county_province = {
									has_holding_type = city_holding
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = 90_percent_cities_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.15
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							primary_title.tier > tier_county
							government_has_flag = government_is_republic
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_hereditary_hierarchy = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = king.dds
	}
	
	can_pick = {
		scope:character = {
			government_has_flag = government_is_feudal
		}
	}
	
	parameters = {
		poorly_educated_leaders_distrusted = yes
		loyal_trait_more_valued = yes
	}
	character_modifier = {
		castle_holding_holding_build_gold_cost = -0.05
		feudal_government_tax_contribution_mult = 0.1
		long_reign_bonus_mult = 0.25
		tyranny_loss_mult = -0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							primary_title.tier >= tier_kingdom
							any_vassal = {
								count >= 10
								primary_title.tier >= tier_county
								government_has_flag = government_is_feudal
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = king_with_vassals_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOT = {
					scope:character.primary_title.tier >= tier_kingdom
				}
			}
			multiply = 0
		}
	}
}

tradition_esteemed_hospitality = {
	category = realm

	layers = {
		0 = diplo
		1 = mena
		4 = greeting.dds
	}
	
	is_shown = {
	}
	can_pick = {
	}
	
	parameters = {
		courtiers_and_guests_less_likely_to_join_schemes = yes
		cheaper_guest_recruitment = yes
		cheaper_court_positions = yes
		more_hostage_acceptance = yes
	}
	character_modifier = {
		courtier_and_guest_opinion = 10
		owned_personal_scheme_success_chance_add = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						has_cultural_pillar = heritage_iranian 
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = iranian_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
			multiply = 0
		}
	}
}

tradition_gardening = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = garden_architects.dds
	}
	
	parameters = {
		enable_garden_duchy_building = yes
		can_appoint_court_gardener = yes
		can_recruit_gardeners = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 10
							any_county_province = {
								OR = {
									has_building_or_higher = orchards_01
									has_building_or_higher = plantations_01
									has_building_or_higher = cereal_fields_01
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = gardening_buildings_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOT = {
					culture_pillar:ethos_courtly = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_tribe_unity = {
	category = realm

	layers = {
		0 = martial
		1 = mena
		4 = crown.dds
	}
	
	is_shown = { #Replaced by Strong Kinship
		NOR = {
			this = culture:gaelic
			this = culture:scottish
			any_parent_culture_or_above = {
				OR = {
					this = culture:gaelic
					this = culture:scottish
				}
			}
		}
	}
	can_pick = {
		custom_tooltip = {
			text = requires_tribal_or_clan_government_trigger
			scope:character = {
				OR = {
					government_has_flag = government_is_clan
					government_has_flag = government_is_tribal
				}
			}
		}
	}
	
	parameters = {
		bonuses_from_patriarch_matriarch_trait = yes
		cultural_house_personal_scheme_success_chance = yes
		landing_house_members_give_prestige = yes
		penalty_for_revoking_titles_from_house_members = yes
		loyal_trait_more_valued = yes
		tribal_holding_stationed_bonus = yes
	}
	character_modifier = {
		dynasty_house_opinion = 10
		opinion_of_liege = -5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					exists = scope:character.house
					NOT = {
						scope:character.house = {
							any_house_member = {
								count >= 3
								has_relation_friend = scope:character
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = house_friends_desc
				}
			}
			if = {
				limit = {
					has_variable = defensive_traditionalist_discount
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						OR = {
							government_has_flag = government_is_clan
							government_has_flag = government_is_tribal
							government_has_flag = government_is_administrative
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_astute_diplomats = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = diplomat.dds
	}
	
	parameters = {
		cannot_attack_allies = yes
		cannot_attack_truces = yes
		facilitate_alliance_acceptance = yes
		facilitate_white_peace = yes
		extra_language_cap_2 = yes
		astute_diplomat_bonus = yes
		cultrad_unlocks_t4_bounties_for_whispers = yes
	}

	character_modifier = {
		learn_language_scheme_phase_duration_add = medium_scheme_phase_duration_bonus_value
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

tradition_collective_lands = {
	category = realm

	layers = {
		0 = learning
		1 = indian
		4 = farmland.dds
	}
	
	parameters = {
		grants_to_lowborns_bonuses = yes
		collective_lands_farms_bonuses = yes
		peasant_leader_is_inherited = yes
	}
	county_modifier = {
		development_growth_factor = 0.1
		monthly_county_control_growth_factor = -0.2
		build_speed = 0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 2
								culture = prev
								primary_title.tier >= tier_county
								has_trait = peasant_leader
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_peasant_leader_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 800
		if = {
			limit = {
				NOT = {
					scope:character = {
						OR = {
							has_trait = peasant_leader
							any_parent = {
								has_trait = peasant_leader
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_female_only_inheritance = {
	category = realm

	layers = {
		0 = learning
		1 = indian
		4 = crown.dds
	}

	is_shown = {
		NOT = { has_game_rule = inversed_gender_equality }
	}
	
	can_pick = {
		custom_tooltip = {
			NOT = { has_cultural_tradition = tradition_nubian_warrior_queens }
			OR = {
				has_cultural_pillar = heritage_senegambian
				has_cultural_pillar = heritage_akan
				has_cultural_pillar = heritage_west_african
				has_cultural_pillar = heritage_yoruba
				any_parent_culture_or_above = {
					OR = {
						this = culture:nubian
						this = culture:daju
					}
				}
				scope:character.faith = {
					has_doctrine_parameter = female_dominated_law
				}
			}
			text = tradition_female_only_inheritance_requirements
		}
		scope:character = {
			primary_title = {
				NOR = {
					has_title_law = male_only_law
					has_title_law = male_preference_law
				}
			}
			NOR = {
				has_realm_law = male_only_law
				has_realm_law = male_preference_law
			}
		}
	}
	
	parameters = {
		female_only_inheritance = yes
		female_preference_inheritance = yes
	}
	character_modifier = {
		opinion_of_female_rulers = 10
		opinion_of_male_rulers = -10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						has_game_rule = inversed_gender_equality
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_female_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 25
		if = {
			limit = {
				NOT = {
					scope:character = {
						is_female = yes
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_equal_inheritance = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = crown.dds
	}

	can_pick = {
		NOR = {
			has_cultural_tradition = tradition_nubian_warrior_queens
			has_cultural_tradition = tradition_nubian_warrior_kings
		}
	}
	
	parameters = {
		gender_equal_inheritance = yes
	}
	doctrine_character_modifier = {
		name = tradition_equal_inheritance_name
		doctrine = doctrine_gender_male_dominated
		opinion_of_female_rulers = 10
	}
	doctrine_character_modifier = {
		name = tradition_equal_inheritance_name
		doctrine = doctrine_gender_female_dominated
		opinion_of_male_rulers = 10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 25
		if = {
			limit = {
				NOR = {
					scope:character = {
						is_female = yes
						faith = {
							has_doctrine_parameter = male_dominated_law
						}
					}
					scope:character = {
						is_male = yes
						faith = {
							has_doctrine_parameter = female_dominated_law
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_roman_legacy = {
	category = realm

	layers = {
		0 = martial
		1 = mediterranean
		4 = laurel.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_byzantine
			has_cultural_pillar = heritage_caucasian
		}
		#replaced by new Byzantine traditions
		has_ep3_dlc_trigger = no
	}
	can_pick = {
	}
	
	parameters = {
		unlock_maa_cataphract = yes
	}
	province_modifier = {
	}
	character_modifier = {
		levy_size = -0.25
		men_at_arms_recruitment_cost = -0.15
		men_at_arms_maintenance = -0.15
		levy_reinforcement_rate = -0.25
		heavy_infantry_max_size_add = 2
		heavy_cavalry_max_size_add = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 50
							any_county_province = {
								geographical_region = custom_eastern_roman_empire
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_roman_empire_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_metal_craftsmanship = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = tools.dds
	}
	
	parameters = {
		better_armory_buildings = yes
		better_blacksmith_buildings = yes
		next_level_smiths = yes
	}
	character_modifier = {
		maa_toughness_add = 2
		army_maintenance_mult = 0.1
		levy_toughness = 2
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_bureaucratic_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 1
							any_county_province = {
								has_any_special_mine_trigger = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_a_special_mine_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					any_culture_county = {
						count >= 1
						any_county_province = {
							has_building_or_higher = blacksmiths_01
						}
					}
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				any_culture_county = {
					count >= 8
					any_county_province = {
						has_building_or_higher = blacksmiths_01
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_family_entrepreneurship = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = noble.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = not_numerous_close_family_desc
			scope:character = {
				any_close_family_member = {
					count >= 10
					is_alive = yes
				}
			}
		}
	}
	
	parameters = {
		close_family_better_councillors = yes
		close_family_better_court_positions = yes
		penalty_for_revoking_titles_from_close_family = yes
	}
	character_modifier = {
		close_relative_opinion = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_courtly_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							scope:character = {
								any_close_family_member = {
									percent > 0.5
									save_temporary_opinion_value_as = { name = target_opinion target = scope:character }		
									scope:target_opinion >= 80
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_strong_opinion_close_family_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOR = {
					has_cultural_pillar = heritage_west_african
					has_cultural_pillar = heritage_central_african
					has_cultural_pillar = heritage_chinese
					has_cultural_pillar = heritage_indo_aryan
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					any_close_family_member = {
						count < 15
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_wedding_ceremonies = {
	category = realm

	layers = {
		0 = diplo
		1 = indian
		4 = greeting.dds
	}
	
	parameters = {
		better_spouses = yes
		marriage_acceptance_bonus = yes
		cannot_divorce = yes
		adulterer_fornicator_penalties = yes
		hostile_scheme_success_chance_vs_spouse_penalty = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						any_ruler = {
							count >= 5
							primary_title.tier >= tier_county
							culture = prev
							has_trait = adulterer
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_adulterer_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_courtly = { is_in_list = traits }
					culture_pillar:ethos_communal = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_culture_blending = {
	category = realm
	
	layers = {
		0 = learning
		1 = indian
		4 = conversation.dds
	}
	
	is_shown = {
		has_dlc_feature = hybridize_culture
	}
	
	parameters = {
		cheaper_to_hybridize = yes
		learns_more_languages = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = 0.25
	}
	character_modifier = {
		max_learn_language_schemes_add = 1
		learn_language_scheme_phase_duration_add = medium_scheme_phase_duration_bonus_value
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.3
								NOT = { culture = root }
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = multiple_cultures_in_realm_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				is_divergent_culture = no
			}
			multiply = 0
		}
	}
}

tradition_isolationist = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = noble.dds
	}
	
	parameters = {
		courtiers_less_likely_to_leave_same_culture_court = yes
		dislikes_marrying_outside_of_culture = yes
		ai_doesnt_marry_outside_culture = yes
		less_likely_to_culture_convert = yes
		less_plague_spread_culture = yes
		cultrad_unlocks_t3_strengthen_sentries = yes
		cultrad_unlocks_t3_redouble_guards = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.35
	}
	character_modifier = {
		diplomatic_range_mult = -0.25
		same_culture_opinion = 5
		
		ai_war_chance = -0.5
		ai_war_cooldown = 5
	}
	county_modifier = {
		monthly_county_control_growth_add = 0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_neighboring_county = {
								NOT = {
									culture = scope:character.culture
								}
								culture = {
									cultural_acceptance = { target = scope:character.culture value >= 40 }
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = non_tolerated_cultures_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					is_divergent_culture = yes
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
			multiply = 0
		}
	}
}

tradition_fervent_temple_builders = {
	category = realm

	layers = {
		0 = learning
		1 = mediterranean
		4 = temple.dds
	}

	#can_pick = {
	#	custom_tooltip = {
	#		any_culture_county = {
	#			percent >= 0.2
	#			any_county_province = {
	#				has_holding_type = church_holding
	#			}
	#		}
	#		text = 20_percent_churches
	#	}
	#}
	
	parameters = {
		more_fervor_on_church_construction = yes
		prestige_from_temple_construction = yes
		build_bonuses_on_religious_traits = yes
		temple_next_level = yes
		tribals_can_into_temples = yes
	}
	character_modifier = {
		ai_zeal = 25
		church_holding_build_gold_cost = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								faith = scope:character.faith
								has_trait = zealous
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_same_faith_zealous_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				culture_pillar:ethos_spiritual = { is_in_list = traits }
			}
			multiply = 4
		}
		if = {
			limit = {
				scope:character ?= {
					government_has_flag = government_is_tribal
					primary_title.tier >= tier_kingdom
					piety_level >= 3
				}
			}
			multiply = 4
		}

	}
}

tradition_agrarian = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = farmland.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_farmlands_or_floodplains_terrain_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = farmlands
						terrain = floodplains
					}
				}
			}
		}
	}
	
	parameters = {
		content_trait_more_common = yes
		martial_education_worse_outcomes = yes
		hard_working_traits_more_valued = yes
	}
	character_modifier = {
		men_at_arms_recruitment_cost = 0.25
		prowess = -2
		floodplains_travel_danger = floodplains_medium_danger_reduction
	}
	county_modifier = {
		farmlands_development_growth_factor = 0.3
		farmlands_construction_gold_cost = -0.1
		floodplains_development_growth_factor = 0.3
		floodplains_construction_gold_cost = -0.1
		farmlands_levy_size = 0.1
		floodplains_levy_size = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 5
							any_county_province = {
								OR = {
									terrain = farmlands
									terrain = floodplains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_farmlands_or_floodplains_terrain_count_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = farmlands
									terrain = floodplains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}

tradition_pastoralists = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = horses.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_plains_or_steppe_terrain_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					OR = {
						terrain = plains
						terrain = steppe
						geographical_region = world_steppe
					}
				}
			}
		}
	}
	
	parameters = {
		pastures_building_bonuses = yes
		farm_estates_pastures_unlock = yes
	}
	character_modifier = {
		negate_health_penalty_add = 0.15
		prowess = 1
		character_travel_speed_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.6
							any_county_province = {
								OR = {
									terrain = plains
									terrain = steppe
									geographical_region = world_steppe
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_plains_or_steppe_terrain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.6
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = plains
									terrain = steppe
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_parochialism = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = city.dds
	}

	is_shown = { #Replaced by tradition_republican_legacy
		NOT = { has_cultural_tradition = tradition_republican_legacy }
		NOR ={
			this = culture:roman
			any_parent_culture_or_above = {
				this = culture:roman
			}
		}
	}
	can_pick = {
		NOR ={
			this = culture:roman
			any_parent_culture_or_above = {
				this = culture:roman
			}
		}
		NOT = { has_cultural_tradition = tradition_republican_legacy }
	}
	
	parameters = {
		city_buildings_more_powerful = yes
		city_buildings_less_control = yes
		more_parochial_vassals = yes
		next_level_cities = yes
	}
	character_modifier = {
		city_holding_build_gold_cost = -0.05
		city_holding_holding_build_gold_cost = -0.05
		barons_and_minor_landholders_opinion = -20
		parochial_opinion = -20
		parochial_tax_contribution_mult = 0.1
		parochial_levy_contribution_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.9
								culture = scope:character.culture
								any_county_province = {
									has_holding_type = city_holding
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = 90_percent_cities_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.15
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							primary_title.tier > tier_county
							government_has_flag = government_is_republic
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_ruling_caste = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = king.dds
	}
	
	parameters = {
		peasant_and_populist_factions_less_common = yes
		expensive_convert_to_local_culture = yes
		less_likely_to_promote_culture = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.25
	}
	character_modifier = {
		dread_per_tyranny_add = 0.3
		dread_decay_mult = -0.3
		revolting_siege_morale_loss_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_courtly_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_councillor = {
							NOR = {
								culture = scope:character.culture
								is_spouse_of = scope:character # Might be hard to have the right culture for the Spouse; but we can remove this helper if needed
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_other_cultures_in_council_desc
				}
			}
			if = {
				limit = {
					has_variable = aggressive_traditionalist_discount
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 50
		if = {
			limit = {
				scope:character.dread < 25
			}
			multiply = 0.5
		}
		if = {
			limit = {
				scope:character.tyranny < 25
			}
			multiply = 0.5
		}
	}
}

tradition_staunch_traditionalists = {
	category = realm

	layers = {
		0 = intrigue
		1 = western
		4 = king.dds
	}
	
	is_shown = {
		has_dlc_feature = hybridize_culture
	}
	can_pick = {
		NOT = {
		has_cultural_tradition = tradition_fp3_fierce_independence
		}
	}
	
	parameters = {
		stubborn_trait_more_common = yes
		expensive_convert_to_local_culture = yes
		harder_to_hybridize = yes
		less_likely_to_culture_convert = yes
	}
	character_modifier = {
		controlled_province_advantage = 5
		monthly_county_control_growth_add = 0.3
		cultural_head_fascination_mult = -0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							NOT = {
								culture = scope:character.culture
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_other_cultures_in_realm_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOT = {
					is_divergent_culture = yes
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
			multiply = 0
		}
	}
}

tradition_hill_dwellers = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = desert_mountains.dds
	}

	is_shown = { #Cannot be picked if you have access to Highland Farming
		NOT = { has_cultural_tradition = tradition_amharic_highlanders }
		NOR = {
			this = culture:ethiopian
			any_parent_culture_or_above = {
				this = culture:ethiopian
			}
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_hills_desc
			any_culture_county = {
				any_county_province = {
					terrain = hills
				}
			}
		}
	}
	
	parameters = {
		hill_farms_building_bonuses = yes
		hills_hunt_success_chance = yes
		windmills_hill_farms_unlock = yes
	}
	character_modifier = {
		hills_travel_danger = hills_medium_danger_reduction
	}
	county_modifier = {
		hills_development_growth_factor = 0.2
	}
	province_modifier = {
		hills_construction_gold_cost = -0.1
		hills_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						terrain = hills
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_forest_folk = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = forest.dds
	}

	is_shown = {
		NOR = { #These cultures instead get Forest Wardens Tradition
			has_cultural_pillar = heritage_balto_finnic
			has_cultural_pillar = heritage_volga_finnic
			has_cultural_pillar = heritage_ugro_permian
			has_cultural_pillar = heritage_baltic
			has_cultural_tradition = tradition_forest_wardens
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_forest_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = forest
						terrain = taiga
					}
				}
			}
		}
	}
	
	parameters = {
		logging_camps_building_bonuses = yes
		forest_hunt_success_chance = yes
		watermills_forestries_unlock = yes
	}
	character_modifier = {
		forest_travel_danger = forest_medium_danger_reduction
		taiga_travel_danger = taiga_medium_danger_reduction
	}
	county_modifier = {
		forest_development_growth_factor = 0.15
		taiga_development_growth_factor = 0.15
	}
	province_modifier = {
		forest_construction_gold_cost = -0.1
		taiga_construction_gold_cost = -0.1
		forest_holding_construction_gold_cost = -0.1
		taiga_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = forest_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = forest
							terrain = taiga
						}
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_mountain_homes = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = mountain.dds
	}
	
	is_shown = {
		NOR = { #This is replaced by Himalayan Settlers, Mountaineer Ruralism and Mountain Herding. 
			has_cultural_tradition = tradition_himalayan_settlers
			has_cultural_tradition = tradition_mountaineer_ruralism
			has_cultural_pillar = heritage_arabic
			has_cultural_pillar = heritage_berber
			has_cultural_pillar = heritage_tibetan
			has_cultural_pillar = heritage_qiangic
			has_cultural_pillar = heritage_west_slavic
			any_culture_county = {
				title_province = {
					geographical_region = world_himalaya
				}
			}
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}

	parameters = {
		quarries_building_bonuses = yes
		prestige_gain_on_building_complete_in_mountains = yes
		mountains_hunt_success_chance = yes
	}
	character_modifier = {
		mountains_travel_danger = mountains_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	county_modifier = {
		mountains_development_growth_factor = 0.2
		desert_mountains_development_growth_factor = 0.35
	}
	province_modifier = {
		mountains_construction_gold_cost = -0.1
		desert_mountains_construction_gold_cost = -0.1
		mountains_holding_construction_gold_cost = -0.1
		desert_mountains_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = mountains
							terrain = desert_mountains
						}
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_dryland_dwellers = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = desert.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_in_dryland_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = drylands
						terrain = desert
					}
				}
			}
		}
		custom_tooltip = { #FP3 addition
			text = cannot_have_tradition_irrigation_experts
			NOT = { culture_tradition:tradition_fp3_irrigation_experts = { is_in_list = traits } }
		}
	}
	
	parameters = {
		plantations_building_bonuses = yes
		drylands_hunt_success_chance = yes
	}
	character_modifier = {
		desert_travel_danger = desert_medium_danger_reduction
		drylands_travel_danger = drylands_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	county_modifier = {
		desert_development_growth_factor = 0.35
		drylands_development_growth_factor = 0.15
	}
	province_modifier = {
		desert_construction_gold_cost = -0.1
		drylands_construction_gold_cost = -0.1
		desert_holding_construction_gold_cost = -0.1
		drylands_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = drylands
							terrain = desert
						}
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_jungle_dwellers = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = jungle.dds
	}
	
	is_shown = {
		NOR = {
			has_cultural_pillar = heritage_akan
			has_cultural_pillar = heritage_yoruba
			has_cultural_tradition = tradition_hidden_cities
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_jungle_desc
			any_culture_county = {
				any_county_province = {
					terrain = jungle
				}
			}
		}
	}
	
	parameters = {
		outposts_building_bonuses = yes
		jungle_hunt_success_chance = yes
	}
	character_modifier = {
		jungle_travel_danger = jungle_medium_danger_reduction
	}
	county_modifier = {
		jungle_development_growth_factor = 0.25
	}
	province_modifier = {
		jungle_construction_gold_cost = -0.1
		jungle_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						terrain = jungle
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_wetlanders = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = svamp.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_wetlands_desc
			any_culture_county = {
				any_county_province = {
					terrain = wetlands
				}
			}
		}
	}
	
	parameters = {
		peat_quarries_building_bonuses = yes
		wetlands_hunt_success_chance = yes
	}
	character_modifier = {
		wetlands_advantage = 10
		wetlands_travel_danger = wetlands_high_danger_reduction
		floodplains_travel_danger = floodplains_high_danger_reduction
	}
	county_modifier = {
		wetlands_development_growth_factor = 0.25
	}
	province_modifier = {
		wetlands_construction_gold_cost = -0.15
		wetlands_holding_construction_gold_cost = -0.15
		wetlands_levy_size = 0.1
		wetlands_supply_limit_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 3
							any_county_province = {
								terrain = wetlands
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_wetlands_count_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 3
							culture = scope:character.culture
							any_county_province = {
								terrain = wetlands
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						terrain = wetlands
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_hidden_cities = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = city2.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_akan
			has_cultural_pillar = heritage_yoruba
		}
		NOT = { has_cultural_tradition = tradition_jungle_dwellers }
	}
	can_pick = {
		custom_description = {
			text = culture_in_jungle_desc
			any_culture_county = {
				any_county_province = {
					terrain = jungle
				}
			}
		}
	}
	
	parameters = {
		tribal_holding_fort_level_in_jungle_bonus = yes
		castle_holding_fort_level_in_jungle_bonus = yes
	}
	character_modifier = {
		jungle_travel_danger = jungle_high_danger_reduction
	}
	county_modifier = {
		jungle_development_growth_factor = 0.35
	}
	province_modifier = {
		jungle_construction_gold_cost = -0.1
		jungle_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {	culture_pillar:ethos_bureaucratic = { is_in_list = traits }	}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_inventive_desc
				}
			}	
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant		
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					any_culture_county = {
						percent >= 0.3
						any_county_province = {
							terrain = jungle
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding 
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						terrain = wetlands
					}
				}
			}
			multiply = 8
		}

	}
}

tradition_ancient_miners = {
	category = realm

	is_shown = {
		always = no
	}
	
	layers = {
		0 = martial
		1 = mediterranean
		4 = tools.dds
	}
	
	parameters = {
		ancient_miners_quarries_building_bonuses = yes
		can_build_quarries_in_hills = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_castle_keepers = {
	category = realm

	layers = {
		0 = martial
		1 = western
		4 = city.dds
	}
	
	can_pick = {
		custom_tooltip = {
			scope:character = {
				OR = {
					government_has_flag = government_is_feudal
					government_has_flag = government_is_clan
				}
			}
			text = must_be_feudal_or_clan
		}
		custom_tooltip = {
			text = cannot_have_tradition_city_keepers
			NOT = {
				culture_tradition:tradition_city_keepers = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		castle_fortifications_increase = yes
		castle_grant_prestige = yes
		architect_trait_prestige = yes
		ai_more_likely_to_castle = yes
		ai_more_likely_to_fortify = yes
	}
	character_modifier = {
		castle_holding_holding_build_speed = 0.1
		castle_holding_holding_build_gold_cost = 0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirements.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_bureaucratic_desc
				}
			}
			# Requires battlements innovation.
			if = {
				limit = {
					NOT = { has_innovation = innovation_battlements }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_battlements_innovation_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 800 
		if = {
			limit = {
				NOT = { has_innovation = innovation_battlements }
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = { ai_boldness >= 0 }
			}
			multiply = 0.25
		}
	}
}

tradition_city_keepers = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = city.dds
	}
	
	can_pick = {
		scope:character = {
			OR = {
				government_has_flag = government_is_feudal
				government_has_flag = government_is_clan #Update for FP3
			}
		}
		custom_tooltip = {
			text = cannot_have_tradition_castle_keepers
			NOT = {
				culture_tradition:tradition_castle_keepers = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		next_level_guild_halls = yes
		city_buildings_more_county_opinion = yes
		ai_more_likely_to_city = yes
		architect_trait_prestige = yes
		watermills_windmills_cities = yes
	}
	character_modifier = {
		city_holding_build_speed = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirements.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_egalitarian_desc
				}
			}
			# Requires communal government innovation.
			if = {
				limit = {
					NOT = { has_innovation = innovation_development_02 }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_development_02_innovation_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 400
		add = {
			value = scope:character.ai_sociability
			divide = 2
		}
		if = {
			limit = {
				NOT = { has_innovation = innovation_development_02 }
			}
			multiply = 0
		}
	}
}

tradition_maritime_mercantilism = {
	category = realm

	layers = {
		0 = diplo
		1 = mediterranean
		4 = ship.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_on_coast_desc
			any_culture_county = {
				any_county_province = {
					is_coastal = yes
				}
			}
		}
	}
	
	parameters = {
		next_level_trade_ports = yes
		maritime_mercantilism_coastal_holdings = yes
		maritime_mercantilism_avaricious_bonus = yes
	}
	character_modifier = {
		republic_government_vassal_opinion = 10
		sea_travel_danger = low_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_stoic_or_bureaucratic_desc
				}
			}
			# Coastal requirement.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.6
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			add = 50
		}
		if = { # Make stacking a bit more common
			limit = {
				OR = {
					culture_tradition:tradition_seafaring = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						is_coastal = yes
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_monastic_communities = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = temple.dds
	}
	
	can_pick = {
		scope:character = {
			faith = {
				has_doctrine_parameter = take_vows_active
			}
		}
	}
	
	parameters = {
		temperate_trait_more_common = yes # Synergy with Monastic Doctrines
		temperate_trait_bonuses = yes
		devoted_trait_bonuses = yes
		monastic_expectations = yes
		next_level_monasteries = yes
		monastic_monastery_learning_bonus = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_communal_desc
				}
			}
			# Piety level requirement.
			if = {
				limit = {
					NOT = { scope:character.piety_level >= high_piety_level }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_high_piety_level_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = { has_cultural_pillar = heritage_goidelic }
			}
			multiply = 0
		}
		if = {
			limit = {
				culture_pillar:ethos_spiritual = { is_in_list = traits }
			}
			multiply = 2
		}
		if = {
			limit = {
				scope:character ?= {
					piety_level >= 3
				}
			}
			multiply = scope:character.piety_level
		}
	}
}

################################
# REGIONAL CULTURAL TRADITIONS #
################################

tradition_byzantine_succession = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_byzantine
			scope:character = {
				has_title = title:e_byzantium
			}
		}
		#replaced by new Byzantine traditions
		has_ep3_dlc_trigger = no
	}
	can_pick = {
		has_cultural_pillar = heritage_byzantine
		scope:character = {
			has_title = title:e_byzantium
		}
		custom_tooltip = {
			text = cannot_have_tradition_court_eunuchs
			NOT = { culture_tradition:tradition_court_eunuchs = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_merciful_blindings
			NOT = { culture_tradition:tradition_merciful_blindings = { is_in_list = traits } }
		}
	}

	parameters = {
		can_blind_prisoners = yes
		can_castrate_prisoners = yes
		eunuch_trait_bonuses = yes
		can_appoint_chief_eunuch = yes
		physical_disfigurement_blocks_inheritance = yes #Actually only blocks claimants and reduce score in elective. Also includes infertility for tooltip reasons.
		children_can_be_born_in_the_purple = yes
		disloyal_trait_more_common = yes
		byzantine_faction_differences = yes
		#byzantine_faction_preffered_claimants = yes
	}
	character_modifier = {
		eligible_child_opinion = 20
		short_reign_duration_mult = 0.5
		hostile_scheme_phase_duration_add = medium_scheme_phase_duration_bonus_value
		ai_amenity_target_baseline = 0.75
		ai_amenity_spending = 1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							has_title = title:c_byzantion
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = byzantion_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 1000 }
}

tradition_lords_of_the_elephant = {
	category = regional

	layers = {
		0 = learning
		1 = indian
		4 = elephant.dds
	}

	is_shown = {
		OR = {
			any_culture_county = {
				title_province = {
					geographical_region = world_innovation_elephants
				}
			}
			has_innovation = innovation_elephantry
		}
	}
	can_pick = {
		has_innovation = innovation_elephantry
	}

	parameters = {
		can_recruit_jungle_specialist = yes
		elephant_pens_building_bonuses = yes
		elephant_bonuses_for_rank_4_education = yes
	}
	character_modifier = {
		elephant_cavalry_recruitment_cost_mult = -0.15
		elephant_cavalry_maintenance_mult = -0.15
		elephant_cavalry_toughness_add = 20
		elephant_cavalry_damage_add = 40
		jungle_travel_danger = jungle_medium_danger_reduction
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							any_county_province = {
								count >= 3
								has_building_or_higher = elephant_pens_02
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = elephant_pens_percentage_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 1000
		if = {
			limit = {
				NOR = {
					has_cultural_pillar = heritage_indo_aryan
					has_cultural_pillar = heritage_dravidian
				}
			}
			multiply = 0
		}
	}
}

tradition_african_tolerance = {
	category = regional

	layers = {
		0 = diplo
		1 = mena
		4 = diplomat.dds
	}

	is_shown = {
		OR = { # For cultures with any heritage from western or central Africa
			has_cultural_pillar = heritage_berber
			has_cultural_pillar = heritage_west_african
			has_cultural_pillar = heritage_central_african
			has_cultural_pillar = heritage_sahelian
			has_cultural_pillar = heritage_senegambian
			has_cultural_pillar = heritage_akan
			has_cultural_pillar = heritage_yoruba
		}
		NOT = {
			culture_tradition:tradition_steppe_tolerance = { is_in_list = traits }
		}
	}
	can_pick = {
	}

	parameters = {
		less_likely_to_force_conversion = yes
	}
	character_modifier = {
		different_faith_opinion = 10
		different_faith_county_opinion_mult = -0.25
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_culture_global = {
								count >= 5
								cultural_acceptance = { target = prev value >= 50 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_accepted_cultures_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_by_the_sword = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_the_witenagemot = {
	category = regional

	layers = {
		0 = diplo
		1 = western
		4 = council.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_west_germanic
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_goidelic
		}
	}
	can_pick = {
		OR = {
			has_cultural_pillar = heritage_west_germanic
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_goidelic
		}
	}

	parameters = {
		witenagemot_succession_enabled = yes
	}
	character_modifier = {
		monthly_prestige_gain_per_happy_powerful_vassal_mult = 0.04
	}
	doctrine_character_modifier = {
		name = tradition_the_witenagemot_name
		doctrine = doctrine_theocracy_temporal
		realm_priest_opinion = 15
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_councillor = {
								percent = 1
								opinion = {
									target = prev
									value >= 0
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = councillor_with_negative_opinion_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 200
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_things = { is_in_list = traits }
					culture_tradition:tradition_fp3_jirga = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_things = {
	category = regional

	layers = {
		0 = learning
		1 = western
		4 = council.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_north_germanic
	}
	can_pick = {
		has_cultural_pillar = heritage_north_germanic
	}

	parameters = {
		scandinavian_elective_enabled = yes
		trait_county_opinion_modifiers = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								county_opinion < 0
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = counties_with_low_county_opinion_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 200
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_the_witenagemot = { is_in_list = traits }
					culture_tradition:tradition_fp3_jirga = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_caravaneers = {
	category = regional

	layers = {
		0 = diplo
		1 = mena
		4 = camel.dds
	}

	is_shown = {
		always = no
	}

	parameters = {
		wanderers_gain_extra_economic_skills = yes
		more_likely_to_leave_court = yes
		second_caravanserai = yes
		unlock_voluntary_laampdom = yes
	}

	character_modifier = {
		movement_speed = 0.05
		diplomatic_range_mult = 0.2
		character_travel_safety_mult = 0.2
		character_travel_speed_mult = 0.2
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 600 }
}

tradition_horse_lords = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = horses.dds
	}

	is_shown = {
		OR = {
			has_cultural_pillar = heritage_mongolic
			has_cultural_pillar = heritage_turkic
		}
	}

	can_pick = {
		custom_description = {
			text = culture_in_steppe_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = world_steppe
				}
			}
		}
	}

	parameters = {
		unlock_maa_horse_archers = yes
		can_recruit_open_specialist = yes
		unlock_horse_pastures_building = yes
		steppe_hunt_success_chance = yes
		unlock_voluntary_laampdom = yes
	}

	character_modifier = {
		light_cavalry_damage_mult = 0.1
		light_cavalry_screen_mult = 0.1
		steppe_cancel_negative_supply = yes
		supply_duration = 1
		movement_speed = 0.1
		character_travel_speed_mult = 0.2
		character_travel_safety_mult = 0.2
		steppe_travel_danger = steppe_high_danger_reduction
		movement_speed_land_raiding = 0.3
		hostile_county_attrition_raiding = -0.5
		provisions_use_mult = -0.25
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
			#if = {
			#	limit = {
			#		NOR = {
			#			has_cultural_pillar = heritage_turkic
			#			has_cultural_pillar = heritage_mongolic
			#		}
			#	}
			#	add = {
			#		value = tradition_unfulfilled_criteria_penalty
			#		desc = steppe_heritage_reduction_desc
			#	}
			#}
		}
	}

	ai_will_do = {
		value = 400
	}
}

tradition_saharan_nomads = {
	category = regional

	layers = {
		0 = learning
		1 = mena
		4 = desert.dds
	}

	is_shown = {
		any_culture_county = {
			title_province = {
				geographical_region = custom_sahara_proper
			}
		}
	}
	can_pick = {
		any_culture_county = {
			title_province = {
				geographical_region = custom_sahara_proper
			}
		}
	}

	parameters = {
		desert_hunt_success_chance = yes
		resistant_to_desert_privation = yes
	}
	character_modifier = {
		light_cavalry_maintenance_mult = -0.25
		light_cavalry_recruitment_cost_mult = -0.25
		oasis_development_growth_factor = 0.1
		movement_speed = 0.1
		character_travel_speed = 10
		desert_travel_danger = desert_high_danger_reduction
		drylands_travel_danger = drylands_high_danger_reduction
		desert_mountains_travel_danger = desert_mountains_high_danger_reduction
		movement_speed_land_raiding = 0.2
		hostile_county_attrition_raiding = -0.3

		# Nullify the maluses from world_africa_sahara_provisions_usage_multiplier_modifier.
		desert_provisions_use_mult = -0.66
		desert_mountains_provisions_use_mult = -0.66
		desert_supply_limit_mult = 0.5
		desert_mountains_supply_limit_mult = 0.5
	}
	province_modifier = {
		oasis_construction_gold_cost = -0.15
		desert_construction_gold_cost = -0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								geographical_region = custom_sahara_proper
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = sahara_percentage_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 400 }
}

tradition_visigothic_codes = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}

	is_shown = {
		OR = {
			this = culture:visigothic
			this = culture:basque
			any_parent_culture_or_above = {
				OR = {
					this = culture:visigothic
					this = culture:basque
				}
			}
		}
	}
	can_pick = {
		OR = {
			this = culture:visigothic
			this = culture:basque
			any_parent_culture_or_above = {
				OR = {
					this = culture:visigothic
					this = culture:basque
				}
			}
		}
		scope:character = {
			has_religion = religion:christianity_religion #The Visigothic code is strongly associated with Christian canon law.
		}
	}

	parameters = {
		can_enact_high_partition_succession_law = yes
		gender_equal_inheritance = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 200 }
}

tradition_himalayan_settlers = {
	category = regional

	layers = {
		0 = learning
		1 = indian
		4 = mountain.dds
	}

	is_shown = { #Replaces Mountain Homes
		OR = {
			has_cultural_pillar = heritage_tibetan
			has_cultural_pillar = heritage_qiangic
			any_culture_county = {
				title_province = {
					geographical_region = world_himalaya
				}
			}
		}
	}
	can_pick = {
		OR = {
			has_cultural_pillar = heritage_tibetan
			has_cultural_pillar = heritage_qiangic
			any_culture_county = {
				title_province = {
					geographical_region = world_himalaya
				}
			}
		}
	}

	parameters = {
		unlock_maa_mountaineer = yes
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
		resistant_to_mountain_privation = yes
	}

	character_modifier = {
		mountains_development_growth_factor = 0.2
		mountains_travel_danger = mountains_high_danger_reduction
		movement_speed_land_raiding = 0.15
		hostile_county_attrition_raiding = -0.2
	}
	province_modifier = {
		mountains_construction_gold_cost = -0.1
		mountains_holding_construction_gold_cost = -0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							title_province = {
								geographical_region = world_himalaya
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_himalaya_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.4
							title_province = {
								geographical_region = world_himalaya
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_desert_nomads = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = camel.dds
	}

	is_shown = {
		OR = {
			this = culture:bedouin
			any_parent_culture_or_above = {
				this = culture:bedouin
			}
			any_parent_culture = {
				has_cultural_tradition = tradition_desert_nomads
			}
		}
	}
	can_pick = {
		custom_tooltip = {
			text = culture_in_camel_region_desc
			any_culture_county = {
				any_county_province = {
					geographical_region = world_innovation_camels
				}
			}
		}
	}

	parameters = {
		desert_warrior_trait_is_better = yes
		desert_hunt_success_chance = yes
		resistant_to_desert_privation = yes
	}
	character_modifier = {
		camel_cavalry_maintenance_mult = -0.2
		camel_cavalry_recruitment_cost_mult = -0.2
		character_travel_speed = 10
		desert_travel_danger = desert_high_danger_reduction
		drylands_travel_danger = drylands_high_danger_reduction
		desert_mountains_travel_danger = desert_mountains_high_danger_reduction
		movement_speed_land_raiding = 0.2
		hostile_county_attrition_raiding = -0.3
	}
	province_modifier = {
		desert_tax_mult = 0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= camel_percentage_multiplier_value
							any_county_province = {
								geographical_region = world_innovation_camels
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_camel_region_percentage_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.5
							any_county_province = {
								geographical_region = world_innovation_camels
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_mountaineer_ruralism = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = mountain.dds
	}

	is_shown = {
		has_cultural_pillar = heritage_west_slavic
		NOR = {
			has_cultural_tradition = tradition_himalayan_settlers
			has_cultural_tradition = tradition_mountain_homes
			any_culture_county = {
				title_province = {
					geographical_region = world_himalaya
				}
			}
		}
	}

	can_pick = {
		has_cultural_pillar = heritage_west_slavic
		NOT = {
			has_cultural_tradition = tradition_mountain_homes
		}
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}

	parameters = {
		unlock_maa_zbrojnosh = yes
		quarries_building_bonuses = yes
		hill_farms_building_bonuses = yes
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}

	character_modifier = {
		mountains_travel_danger = mountains_high_danger_reduction
		hills_travel_danger = hills_high_danger_reduction
	}

	county_modifier = {
		hills_development_growth_factor = 0.1
		mountains_development_growth_factor = 0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = mountains
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_true_percentage_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = hills
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = mountains
							terrain = hills
						}
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_steppe_tolerance = {
	category = regional

	layers = {
		0 = intrigue
		1 = mena
		4 = greeting.dds
	}

	is_shown = {
		NOR = {
			culture_tradition:tradition_african_tolerance = { is_in_list = traits }
			culture_tradition:tradition_religion_blending = { is_in_list = traits }
		}
		OR = {
			has_cultural_pillar = heritage_mongolic
			has_cultural_pillar = heritage_turkic
		}
	}
	can_pick = {
		custom_tooltip = {
			text = culture_in_steppe_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					geographical_region = world_steppe
				}
			}
		}
	}

	parameters = { #easily convert and don't force conversion
		more_easily_converted = yes
		less_likely_to_force_conversion = yes
	}

	character_modifier = { # easier to self-convert and create or reform faith
		faith_creation_piety_cost_mult = -0.2
		faith_conversion_piety_cost_mult = -0.2
		different_faith_opinion = 10
		different_faith_county_opinion_mult = -0.25 # reduced penalty for different faiths (note this appears confusing in the UI right now)
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_communal_desc
				}
			}
			# No extra cost here, since we have a fairly restrictive can_pick block.

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
		if = {
			limit = {
				culture_pillar:ethos_spiritual = { is_in_list = traits }
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						terrain = steppe
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_nubian_warrior_queens = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}

	is_shown = {
		NOT = { has_game_rule = inversed_gender_equality }
		any_parent_culture_or_above = {
			OR = {
				this = culture:nubian
				this = culture:daju
			}
		}
	}
	can_pick = {
		any_parent_culture_or_above = {
			OR = {
				this = culture:nubian
				this = culture:daju
			}
		}
	}

	parameters = {
		gender_equal_inheritance = yes
		female_only_inheritance = yes
		female_preference_inheritance = yes
		prowess_from_martial_education = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier > tier_barony
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier > tier_barony
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 200 }
}

tradition_nubian_warrior_kings = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}

	is_shown = {
		has_game_rule = inversed_gender_equality
		any_parent_culture_or_above = {
			OR = {
				this = culture:nubian
				this = culture:daju
			}
		}
	}
	can_pick = {
		any_parent_culture_or_above = {
			OR = {
				this = culture:nubian
				this = culture:daju
			}
		}
	}

	parameters = {
		gender_equal_inheritance = yes
		male_only_inheritance = yes
		male_preference_inheritance = yes
		prowess_from_martial_education = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier > tier_barony
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier > tier_barony
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 200 }
}

##############################
# RITUAL CULTURAL TRADITIONS #
##############################

tradition_monogamous = {
	category = ritual

	layers = {
		0 = learning
		1 = western
		4 = knight.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			trigger_if = {
				limit = {
					OR = {
						NOT = { exists = scope:replacing }
						NOR = {
							scope:replacing = culture_tradition:tradition_polygamous
							scope:replacing = culture_tradition:tradition_concubines
						}
					}
				}
				NOR = {
					culture_tradition:tradition_polygamous = { is_in_list = traits }
					culture_tradition:tradition_concubines = { is_in_list = traits }
				}
			}
		}
	}
	can_pick_for_hybridization = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			NOT = { # Only blocks polygamous to avoid duplicate warnings, but is blocked by concubines
				culture_tradition:tradition_polygamous = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		number_of_spouses = 1
		romance_scheme_bonus_vs_spouse = yes
	}
	
	character_modifier = {
		spouse_opinion = 10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						scope:character.faith = {
							has_doctrine = doctrine_monogamy
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = cheaper_tradition_from_faith
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 0 }
}

tradition_polygamous = {
	category = ritual

	layers = {
		0 = diplo
		1 = mena
		4 = temple.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			trigger_if = {
				limit = {
					OR = {
						NOT = { exists = scope:replacing }
						NOR = {
							scope:replacing = culture_tradition:tradition_monogamous
							scope:replacing = culture_tradition:tradition_concubines
						}
					}
				}
				NOR = {
					culture_tradition:tradition_monogamous = { is_in_list = traits }
					culture_tradition:tradition_concubines = { is_in_list = traits }
				}
			}
		}
	}
	can_pick_for_hybridization = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			NOT = { # Only blocks concubines to avoid duplicate warnings, but is blocked by monogamous
				culture_tradition:tradition_concubines = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		number_of_spouses = 4
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						scope:character.faith = {
							OR = {
								has_doctrine = doctrine_polygamy
								has_doctrine = doctrine_concubines
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = cheaper_tradition_from_faith
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 0 }
}

tradition_concubines = {
	category = ritual

	layers = {
		0 = intrigue
		1 = indian
		4 = greeting.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			trigger_if = {
				limit = {
					OR = {
						NOT = { exists = scope:replacing }
						NOR = {
							scope:replacing = culture_tradition:tradition_monogamous
							scope:replacing = culture_tradition:tradition_polygamous
						}
					}
				}
				NOR = {
					culture_tradition:tradition_monogamous = { is_in_list = traits }
					culture_tradition:tradition_polygamous = { is_in_list = traits }
				}
			}
		}
	}
	can_pick_for_hybridization = {
		custom_tooltip = {
			text = only_one_marriage_tradition_allowed
			NOT = { # Only blocks monogamous to avoid duplicate warnings, but is blocked by polygamous
				culture_tradition:tradition_monogamous = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		number_of_spouses = 1
		number_of_consorts = 3
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						scope:character.faith = {
							OR = {
								has_doctrine = doctrine_polygamy
								has_doctrine = doctrine_concubines
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = cheaper_tradition_from_faith
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 0 }
}

tradition_sacred_mountains = {
	category = ritual

	layers = {
		0 = learning
		1 = mediterranean
		4 = mountain.dds
	}

	is_shown = {
		NOR = {
			has_cultural_pillar = heritage_somalian
			has_cultural_pillar = heritage_east_african
			has_cultural_pillar = heritage_tibetan
			has_cultural_pillar = heritage_qiangic
			any_culture_county = {
				title_province = {
					geographical_region = world_himalaya
				}
			}
			has_cultural_tradition = tradition_himalayan_settlers
		}
		scope:character = { government_has_flag = government_is_tribal }
	}
	can_pick = {
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	
	parameters = {
		piety_gain_on_building_complete_in_mountains = yes
	}
	province_modifier = {
		desert_mountains_tax_mult = 0.05
		mountains_tax_mult = 0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = { culture_pillar:ethos_spiritual = { is_in_list = traits } }
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					piety_level >= 3
				}
			}
			multiply = scope:character.piety_level
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = mountains
							terrain = desert_mountains
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_sacred_groves = {
	category = ritual

	layers = {
		0 = learning
		1 = western
		4 = forest.dds
	}
	
	is_shown = {
		scope:character = { government_has_flag = government_is_tribal }
	}
	can_pick = {
		custom_description = {
			text = culture_in_forest_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = forest
						terrain = taiga
						terrain = jungle
					}
				}
			}
		}
	}
	
	parameters = {
		piety_gain_on_building_complete_in_forest_taiga = yes
	}
	province_modifier = {
		forest_tax_mult = 0.05
		taiga_tax_mult = 0.05
		jungle_tax_mult = 0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
									terrain = jungle
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = forest_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = { culture_pillar:ethos_spiritual = { is_in_list = traits } }
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					piety_level >= 3
				}
			}
			multiply = scope:character.piety_level
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
									terrain = jungle
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = forest
							terrain = taiga
							terrain = jungle
						}
					}
				}
			}
			multiply = 4
		}
	}
}

tradition_culinary_art = {
	category = ritual

	layers = {
		0 = diplo
		1 = indian
		4 = food.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_farmlands_or_floodplains_terrain_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = farmlands
						terrain = floodplains
					}
				}
			}
		}
	}
	
	parameters = {
		more_expensive_feasts = yes
		refined_feasts = yes
		renown_from_feasts = yes
		characters_are_better_food_tasters = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 5
							any_county_province = {
								OR = {
									terrain = farmlands
									terrain = floodplains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_farmlands_or_floodplains_terrain_count_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = farmlands
									terrain = floodplains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_festivities = {
	category = ritual

	layers = {
		0 = diplo
		1 = indian
		4 = food.dds
	}
	
	parameters = {
		more_frequent_feasts = yes
		reveler_traits_more_common = yes
		reveler_traits_more_valued = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = lifestyle_reveler
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_reveler_lifestyle_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character ?= {
						has_trait = lifestyle_reveler
					}
				}
			}
			multiply = 0.5
		}
		else = {
			multiply = 2
		}
	}
}

tradition_sorcerous_metallurgy = {
	category = ritual

	layers = {
		0 = learning
		1 = mediterranean
		4 = tools.dds
	}

	is_shown = {
	}

	can_pick = {
		scope:character = {
			faith = {
				NOR = {
					has_doctrine_parameter = witchcraft_illegal
					has_doctrine_parameter = witchcraft_shunned
				}
			}
		}
	}

	parameters = {
		more_expensive_weapon_inspiration = yes
		improved_weapon_inspiration = yes
		building_barracks_piety_bonuses = yes
	}

	character_modifier = {
		prowess_per_piety_level = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = witch
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_witch_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						has_trait = witch
					}
				}
			}
			multiply = 0.5
		}
		else = {
			multiply = 8
		}
	}
}

tradition_mystical_ancestors = {
	category = ritual

	layers = {
		0 = learning
		1 = mediterranean
		4 = philosopher.dds
	}

	is_shown = {
		any_parent_culture_or_above = {
			has_cultural_tradition = tradition_mystical_ancestors
		}
	}

	can_pick = { #Can pick if your culture has mystical ancestors in its history
		custom_tooltip = {
			text = any_ancestor_culture_was_mystical
			any_parent_culture_or_above = {
				has_cultural_tradition = tradition_mystical_ancestors
			}
		}
	}
	
	parameters = {
		cannot_disherit = yes
		landing_house_members_gives_renown = yes
		piety_penalty_for_revoking_titles_from_house_members = yes
	}

	character_modifier = {
		dynasty_opinion = 10
	}

	cost = {
		prestige = {
			add = {
				value = tradition_double_base_cost
				desc = BASE
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 1000 }
}

tradition_religion_blending = {
	category = ritual

	layers = {
		0 = diplo
		1 = mediterranean
		4 = temple.dds
	}
	
	is_shown = {
		NOT = {
			culture_tradition:tradition_steppe_tolerance = { is_in_list = traits }
		}
	}
	can_pick = {
		custom_tooltip = {
			text = rulers_following_different_faiths_trigger_desc
			scope:character = {
				any_vassal = {
					count >= 2
					culture = prev.culture
					NOT = { faith = prev.faith }
				}
			}
		}
	}
	
	parameters = {
		more_easily_converted = yes
	}

	character_modifier = {
		faith_creation_piety_cost_mult = -0.2
		faith_conversion_piety_cost_mult = -0.2
		ignore_opinion_of_different_faith = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_vassal = {
								count >= 5
								culture = prev.culture
								NOT = { faith = prev.faith }
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_following_different_faiths_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							count >= 5
							culture = prev.culture
							NOT = { faith = prev.faith }
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_religious_patronage = {
	category = ritual

	layers = {
		0 = steward
		1 = indian
		4 = temple.dds
	}
	
	can_pick = {
		custom_tooltip = {
			any_culture_county = {
				percent >= 0.2
				any_county_province = {
					has_holding_type = church_holding
				}
			}
			text = 20_percent_churches
		}
	}
	
	parameters = {
		extra_piety_from_temple_construction = yes
		renown_from_temple_construction = yes
		consolidate_rule_decision = yes
	}
	character_modifier = {
		monthly_piety_from_buildings_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								faith = scope:character.faith
								has_trait = zealous
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_same_faith_zealous_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}

tradition_medicinal_plants = {
	category = ritual

	layers = {
		0 = learning
		1 = indian
		4 = forest.dds
	}
	
	parameters = {
		herbalist_traits_more_common = yes
		herbalist_trait_gives_bonuses = yes
	}

	character_modifier = {
		owned_hostile_scheme_success_chance_add = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = lifestyle_herbalist
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_lifestyle_herbalist_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character ?= {
					NOT = {
						has_trait = lifestyle_herbalist
					}
				}
			}
			multiply = 0.75
		}
		else = {
			multiply = 4
		}
	}
}

tradition_sacred_hunts = {
	category = ritual

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = hunter.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_vegetarianism
			NOT = { culture_tradition:tradition_vegetarianism = { is_in_list = traits } }
		}
	}
	
	parameters = {
		sacred_hunts = yes
		hunting_traits_more_pious = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = lifestyle_hunter
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_hunter_lifestyle_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_spiritual = { is_in_list = traits }
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
			}
			multiply = 0.5
		}
	}
}

tradition_faith_bound = {
	category = ritual

	layers = {
		0 = learning
		1 = indian
		4 = crown.dds
	}
	
	parameters = {
		same_faith_inheritance_only = yes
	}
	character_modifier = {
		opinion_of_different_faith = -10
		ai_zeal = 25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
							any_ruler = {
								culture = prev
								NOT = { THIS = scope:character }
								faith = scope:character.faith
								primary_title.tier >= tier_county
							}
						}
						NOT = {
							any_ruler = {
								percent >= 0.9
								culture = prev
								primary_title.tier >= tier_county
								faith = scope:character.faith
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_same_faith_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 0
		if = {
			limit = {
				scope:character = {
					has_trait = zealous
				}
			}
			add = 100
		}
	}
}

tradition_by_the_sword = {
	category = ritual

	layers = {
		0 = learning
		1 = mena
		4 = swords.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = faith_not_allowed_holy_war_desc
			scope:character = {
				faith = {
					NOT = { has_doctrine_parameter = holy_wars_forbidden }	# Pacifists cannot Holy War
				}
			}
		}
	}
	
	parameters = {
		no_limit_to_kingdom_level_holy_wars = yes
		cb_lower_piety_level_requirement = yes
	}
	character_modifier = {
		diplomacy_per_piety_level = -1
		martial_per_piety_level = 1
		different_faith_opinion = -15
		monthly_piety_gain_mult = -0.2
		ai_zeal = 25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								faith = scope:character.faith
								has_trait = zealous
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_same_faith_zealous_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 0
		if = {
			limit = {
				scope:character ?= {
					has_trait = zealous
					ai_has_warlike_personality = yes
					any_neighboring_top_liege_realm_owner = {
						count >= 2
						primary_title.tier >= tier_kingdom
						NOT = {
							faith = prev.faith
						}
					}
				}
			}
			add = 1000
		}
	}
}

tradition_language_scholars = {
	category = ritual

	layers = {
		0 = intrigue
		1 = indian
		4 = philosopher.dds
	}
	
	parameters = {
		piety_from_language_schemes = yes
		language_success_chance_per_piety_level = yes
		languages_speed_up_claims = yes
		rulers_want_to_learn_languages_of_coreligionists = yes
	}
	character_modifier = {
		learn_language_scheme_phase_duration_add = medium_scheme_phase_duration_bonus_value
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_spiritual_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							piety_level >= 3
							num_of_known_languages >= 3
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = piety_level_kown_languages_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
	}
}

# This is the free version of runestones.
tradition_runestones = {
	category = ritual

	layers = {
		0 = steward
		1 = western
		4 = runestone.dds
	}

	# Runestones are available in a slightly reduced form in the base title, so we let you access this tradition regardless of whether you have FP1 or not.
	is_shown = {
		has_cultural_pillar = heritage_north_germanic
	}
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_fp1_northern_stories
			NOT = { culture_tradition:tradition_fp1_northern_stories = { is_in_list = traits } }
		}
	}
	
	parameters = {
		has_access_to_runestones = yes
	}

	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			# Poet, Arrogant, or Journaller requirement.
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = poet
									has_trait = arrogant
									has_trait = journaller
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_lacks_storytelling_traits_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_merciful_blindings = {
	category = ritual

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = tools.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_byzantine_succession
			NOT = { culture_tradition:tradition_byzantine_succession = { is_in_list = traits } }
		}
	}
	
	parameters = {
		can_blind_prisoners = yes
		merciful_blinding = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_courtly_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						NOT = {
							any_prisoner = {
								scope:character = {
									OR = {
										has_banish_reason = prev
										has_execute_reason = prev
									}
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = no_prisoner_with_harsh_reason_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { # Reduce chance of picking this if the culture has another use of prisoners already
				culture_tradition:tradition_talent_acquisition = { is_in_list = traits }
			}
			multiply = 0.5
		}
	}
}

################################
# SOCIETAL CULTURAL TRADITIONS #
################################

tradition_xenophilic = {
	category = societal

	layers = {
		0 = learning
		1 = mena
		4 = conversation.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_acceptance_trigger_desc
			any_culture_global = {
				count >= xenophilic_nr_of_cultures_value
				NOT = { this = prev }
				cultural_acceptance = { target = prev value >= xenophilic_acceptance_value }
			}
		}
	}
	
	culture_modifier = {
		cultural_acceptance_gain_mult = 0.25
	}
	character_modifier = {
		different_culture_opinion = 10
		ignore_negative_opinion_of_culture = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						#culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_global = {
							count >= xenophilic_nr_of_cultures_cost_value
							NOT = { this = prev }
							cultural_acceptance = { target = prev value >= xenophilic_acceptance_cost_value }
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_acceptance_cost_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_xenophilic_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { # Avoid stacking similar traditions
				culture_tradition:tradition_culture_blending = { is_in_list = traits }
			}
			multiply = 0.25
		}
		if = {
			limit = { # If you like to invade people, don't pick this tradition
				culture_tradition:tradition_malleable_invaders = { is_in_list = traits }
			}
			multiply = 0
		}
	
	}
}

tradition_chivalry = {
	category = societal

	layers = {
		0 = diplo
		1 = western
		4 = knight.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_central_germanic
			has_cultural_pillar = heritage_frankish
			has_cultural_pillar = heritage_goidelic
			has_cultural_pillar = heritage_iberian
			has_cultural_pillar = heritage_latin
			has_cultural_pillar = heritage_west_germanic
		}
	}
	
	parameters = {
		can_use_sparring_duel = yes
		romance_scheme_bonuses = yes
		romance_scheme_penalty = yes
		ai_romance_scheme_increase = yes
		poet_trait_romance_bonuses = yes
		can_host_joust_contests = yes
		knight_errant_trait_bonuses = yes
	}
	
	character_modifier = {
		tyranny_gain_mult = 0.5
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_chivalry_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			if = {
				limit = {
					scope:character = {
						has_variable = tradition_chivalry_tournament_discount
					}
					
				}

				add = {
					value = tradition_tournament_discount
					desc = tradition_tournament_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
	}
}

tradition_hard_working = {
	category = societal

	layers = {
		0 = diplo
		1 = indian
		4 = tools.dds
	}
	
	parameters = {
		development_gain_on_building_complete = yes
		next_level_w_mills = yes
	}
	character_modifier = {
		build_speed = -0.15
		stress_gain_mult = 0.15
		build_gold_cost = 0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = diligent
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_diligent_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_hard_working_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_stoic = { is_in_list = traits }
					culture_pillar:ethos_communal = { is_in_list = traits }
				}
			}
			multiply = 0.5
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_economical_boom_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_loyal_soldiers = {
	category = societal

	layers = {
		0 = diplo
		1 = mena
		4 = hostages.dds
	}
	
	parameters = {
		doesnt_care_about_culture_faith_in_factions = yes
		wants_to_learn_liege_language = yes
		extra_learn_language_success_chance_vs_liege = yes
		loyal_trait_more_common = yes
		more_hostage_acceptance_for_vassals = yes
	}
	character_modifier = {
		opinion_of_liege = 10
	}
	county_modifier = {
		county_opinion_add = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_independent_ruler = no
								NOT = {
									culture = liege.culture
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_under_another_culture_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_loyal_soldiers_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				is_divergent_culture = no
			}
			multiply = 0
		}
	}
}

tradition_pacifism = {
	category = societal

	layers = {
		0 = learning
		1 = indian
		4 = diplomacy.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_not_bellicose
			NOT = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
		}
		culture_not_warlike_trigger = yes
	}
	
	parameters = {
		reduced_cost_for_conversion_to_pacifist_faith = yes
	}

	county_modifier = {
		development_growth_factor = 0.15
		county_opinion_add = 10
	}
	character_modifier = {
		martial = -1
		monthly_martial_lifestyle_xp_gain_mult = -0.2
		
		ai_war_chance = -0.75
		ai_war_cooldown = 10
		ai_boldness = -25
		ai_compassion = 25
	}
	province_modifier = {
		travel_danger = -5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						is_at_war = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = is_at_war_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_pacifism_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0
		if = {
			limit = {
				scope:character = { religion = { is_in_family = rf_eastern } }
				is_divergent_culture = yes
			}
			add = 100
		}
	}
}

tradition_spartan = {
	category = societal

	layers = {
		0 = steward
		1 = indian
		4 = council.dds
	}
	
	is_shown = {
		NOT = {
			scope:character = {
				government_has_flag = government_is_tribal
			}
		}
	}
	
	character_modifier = {
		monthly_prestige_gain_mult = -0.35
		monthly_court_grandeur_change_mult = -0.2
		castle_holding_build_gold_cost = -0.15
		castle_holding_holding_build_gold_cost = -0.15
		courtly_opinion = -20
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					scope:character.prestige_level >= 3
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = prestige_level_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_spartan_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = {
				is_divergent_culture = no
			}
			multiply = 0
		}
	}
}

tradition_diasporic = {
	category = societal

	layers = {
		0 = learning
		1 = mediterranean
		4 = noble.dds
	}

	# Disaporic peoples are marginalized people who have lost their traditional homeland and been forced to live elsewhere. Any hybrid or divergent culture will, by definition, have a new homeland. As a result, new cultures can never pick this tradition, and only historical cultures may start with it.
	is_shown = { always = no }
	can_pick = { always = no }
	
	parameters = {
		wanderers_learn_languages = yes
		extra_language_cap = yes
		unlock_voluntary_laampdom = yes
	}

	character_modifier = {
		stewardship = 1
		learning = 1
		ignore_negative_opinion_of_culture = yes
		diplomatic_range_mult = 0.2
	}
	
	cost = { prestige = 9999 }
	ai_will_do = { value = 0 }
}

tradition_hunters = {
	category = societal

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = hunter.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_vegetarianism
			NOT = { culture_tradition:tradition_vegetarianism = { is_in_list = traits } }
		}
	}
	
	parameters = {
		more_frequent_hunts = yes
		hunting_traits_more_valued = yes
		hunting_traits_more_common = yes
		always_unlock_legendary_hunting_lodge = yes
	}
	
	character_modifier = {
		character_travel_speed_mult = 0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = lifestyle_hunter
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_hunter_lifestyle_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_hunters_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}

tradition_vegetarianism = {
	category = societal

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = food.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_indo_aryan
			has_cultural_pillar = heritage_dravidian
		}
	}
	can_pick = {
		OR = {
			has_cultural_pillar = heritage_indo_aryan
			has_cultural_pillar = heritage_dravidian
		}
		custom_tooltip = {
			text = cannot_have_tradition_sacred_hunts
			NOT = { culture_tradition:tradition_sacred_hunts = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_hunters
			NOT = { culture_tradition:tradition_hunters = { is_in_list = traits } }
		}
	}
	can_pick_for_hybridization = {
		custom_tooltip = {
			text = cannot_have_vegetarianism_and_sacred_hunts
			NOT = { culture_tradition:tradition_sacred_hunts = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_vegetarianism_and_hunters
			NOT = { culture_tradition:tradition_hunters = { is_in_list = traits } }
		}
	}
	
	parameters = {
		cannot_hunt = yes
		vegetarian_building_ban = yes
		vegetarian_fruit_orchard_allowed = yes
		vegetarian_next_level_cereal_fields = yes
	}
	character_modifier = {
		health = 0.25
	}
	county_modifier = {
		plains_development_growth_factor = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_vegetarianism_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 800
		if = {
			limit = {
				NOT = {
					scope:character.faith = {
						has_doctrine = tenet_dharmic_pacifism
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_seafaring = {
	category = societal

	layers = {
		0 = martial
		1 = western
		4 = ship.dds
	}
	
	can_pick = {
		custom_description = {
			text = percentage_of_culture_on_coast_desc
			any_culture_county = {
				percent >= 0.5
				any_county_province = {
					is_coastal = yes
				}
			}
		}
		custom_tooltip = {
			text = cannot_have_tradition_fp1_coastal_warriors
			NOT = { culture_tradition:tradition_fp1_coastal_warriors = { is_in_list = traits } }
		}
	}
	
	parameters = {
		trade_ports_give_control_growth = yes
		trade_ports_give_levies = yes
		can_travel_along_rivers = yes
		trade_ports_enabled_for_tribals = yes
	}
	character_modifier = {
		embarkation_cost_mult = -0.85
		sea_travel_danger = medium_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_bureaucratic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_seafaring_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = { # Make stacking more less common
			limit = {
				OR = {
					culture_tradition:tradition_maritime_mercantilism = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						is_coastal = yes
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_storytellers = {
	category = societal

	layers = {
		0 = learning
		1 = mena
		4 = ceremony.dds
	}

	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_fp1_northern_stories
			NOT = { culture_tradition:tradition_fp1_northern_stories = { is_in_list = traits } }
		}
	}
	
	character_modifier = {
 		owned_scheme_secrecy_add  = -15
 		owned_legend_spread_mult = 0.05
	}
	parameters = {
		better_ward_education = yes
		tells_stories = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_storytellers_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = { # Less likely to adopt this tradition for non-tribals, unless any parent culture already has it
				NOR = {
					scope:character = {
						government_has_flag = government_is_tribal
					}
					any_parent_culture_or_above = {
						has_cultural_tradition = tradition_storytellers
					}
				}
			}
			multiply = 0.5
		}
		else_if = {
			limit = {
				scope:character ?= {
					OR = {
						num_personal_legend_seeds >= 1
						num_triggered_legend_seeds >= 1
					}
				}
			}
			multiply = 8
		}
	}
}

tradition_music_theory = {
	category = societal

	layers = {
		0 = intrigue
		1 = western
		4 = musician.dds
	}

	is_shown = {
		has_ep1_court_positions_dlc_trigger = yes
	}
	
	parameters = {
		gregarious_trait_gives_bonuses = yes
		characters_are_better_court_musicians = yes # Also hooked in to increase the Feast opinion bonus
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_music_theory_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = { # AI should avoid stacking traditions for court positions
				culture_tradition:tradition_poetry = { is_in_list = traits }
			}
			multiply = 0.25
		}
	}
}

tradition_poetry = {
	category = societal

	layers = {
		0 = diplo
		1 = western
		4 = quill.dds
	}

	is_shown = {
		NOT = { has_cultural_tradition = tradition_fp3_enlightened_magnates }
		NAND = {
			has_fp3_dlc_trigger = yes
			has_cultural_pillar = heritage_iranian
		}
	}

	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_fp1_northern_stories
			NOT = { culture_tradition:tradition_fp1_northern_stories = { is_in_list = traits } }
		}
	}
	
	parameters = {
		poet_trait_gives_bonuses = yes
		poet_trait_more_common = yes
		characters_are_better_court_poets = yes
	}

	character_modifier = {
		owned_legend_spread_mult = 0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_poetry_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 50
		if = {
			limit = { # AI should avoid stacking traditions for courtly court positions
				culture_tradition:tradition_music_theory = { is_in_list = traits }
			}
			multiply = 0.25
		}
	}
}

tradition_fishermen = {
	category = societal

	layers = {
		0 = steward
		1 = mediterranean
		4 = ship.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_on_coast_desc
			any_culture_county = {
				any_county_province = {
					is_coastal = yes
				}
			}
		}
	}
	
	parameters = {
		coastal_holdings_give_defensive_bonus = yes
		trade_ports_stationed_maa_bonus = yes
	}
	
	character_modifier = {
		coastal_advantage = 5
		supply_capacity_mult = 0.5
		coastal_sea_travel_danger = low_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_fishermen_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = { # Make stacking a bit more common
			limit = {
				OR = {
					culture_tradition:tradition_maritime_mercantilism = { is_in_list = traits }
					culture_tradition:tradition_seafaring = { is_in_list = traits }
				}
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						is_coastal = yes
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_mendicant_mystics = {
	category = societal

	layers = {
		0 = learning
		1 = indian
		4 = speech.dds
	}
	
	parameters = {
		mystic_trait_gives_bonuses = yes
		mystic_trait_more_common = yes
		mendicant_mystics_may_appear = yes
	}
	
	character_modifier = {
		character_travel_speed_mult = 0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = lifestyle_mystic
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_mystic_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_mendicant_mystics_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0.7
		}
	}
}

tradition_warrior_culture = {
	category = societal

	layers = {
		0 = martial
		1 = western
		4 = soldiers.dds
	}
	
	is_shown = {
		NOT = { has_cultural_tradition = tradition_hird }
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		scope:character = {
			government_has_flag = government_is_tribal
		}
		custom_tooltip = {
			text = cannot_have_tradition_fp1_coastal_warriors
			NOT = { culture_tradition:tradition_fp1_coastal_warriors = { is_in_list = traits } }
		}
	}
	
	parameters = {
		strong_traits_more_valued = yes
		strong_traits_more_common = yes
		weak_traits_looked_down_upon = yes
		rowdy_trait_more_common = yes
		pensive_trait_less_common = yes
	}
	character_modifier = {
		cultural_head_fascination_mult = -0.25
		ai_boldness = 25
		accolade_glory_gain_mult = 0.1
		monthly_martial_lifestyle_xp_gain_mult = 0.15
		men_at_arms_limit = 1
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {	
									has_trait = strong
									has_trait = physique_good
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = strong_rulers_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_warrior_culture_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			if = {
				limit = {
					has_variable = aggressive_traditionalist_discount
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_martial_admiration = {
	category = societal

	layers = {
		0 = martial
		1 = indian
		4 = knight.dds
	}
	
	is_shown = {
		NOR = { #Replaced by Futuwaa and Druzhina
			has_cultural_pillar = heritage_iranian
			has_cultural_pillar = heritage_frankish
			has_cultural_pillar = heritage_east_slavic
			has_cultural_tradition = tradition_futuwaa
			has_cultural_tradition = tradition_druzhina
			has_cultural_tradition = tradition_chanson_de_geste
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		NOR = { #Replaced by Futuwaa and Druzhina
			has_cultural_pillar = heritage_iranian
			has_cultural_pillar = heritage_frankish
			has_cultural_pillar = heritage_east_slavic
			has_cultural_tradition = tradition_futuwaa
			has_cultural_tradition = tradition_druzhina
			has_cultural_tradition = tradition_chanson_de_geste
		}
	}

	parameters = {
		martial_education_more_valued = yes
		prowess_traits_more_valued = yes
		blademaster_trait_bonuses = yes
		craven_and_content_traits_looked_down_upon = yes
		knights_slightly_more_prone_to_injury = yes
		can_duel_rivals = yes
	}
	
	character_modifier = {
		knight_limit = 2
		negate_prowess_penalty_add = 5 # Wounded knights fight better!
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_martial_admiration_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_philosopher_culture = {
	category = societal

	layers = {
		0 = learning
		1 = indian
		4 = philosopher.dds
	}

	is_shown = {
		NOT = { has_cultural_tradition = tradition_fp3_beacon_of_learning }
	}
	
	can_pick = {
		custom_description = {
			text = culture_not_bellicose
			NOT = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
		}
		NOT = { has_cultural_tradition = tradition_warrior_culture }
	}
	
	parameters = {
		pensive_trait_more_common = yes
		rowdy_trait_less_common = yes
		innovation_from_learning_traits = yes
	}
	character_modifier = {
		monthly_learning_lifestyle_xp_gain_mult = 0.2
		learning_per_prestige_level = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = scholar
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_scholar_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_philosopher_culture_travel_discount
					}
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_communal = { is_in_list = traits }
					culture_pillar:ethos_courtly = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_welcoming = {
	category = societal

	layers = {
		0 = diplo
		1 = mena
		4 = diplomat.dds
	}
	
	parameters = {
		diplomacy_education_better_outcomes = yes
		charming_trait_more_common = yes
	}
	character_modifier = {
		monthly_court_grandeur_change_mult = 0.15
		owned_personal_scheme_success_chance_add = 10
		enemy_hostile_scheme_success_chance_add = 10
		character_travel_safety_mult = 0.1
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = education_diplomacy_4
									has_trait = education_diplomacy_5
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_diplomacy_edu_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_eye_for_an_eye = { is_in_list = traits }
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_forbearing = { is_in_list = traits }
					culture_tradition:tradition_equitable = { is_in_list = traits }
					culture_tradition:tradition_charitable = { is_in_list = traits }
					culture_tradition:tradition_modest = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_eye_for_an_eye = {
	category = societal

	layers = {
		0 = martial
		1 = mena
		4 = king.dds
	}
	
	parameters = {
		vengeful_trait_more_common = yes
		vengeful_positive_forgiving_negative = yes
		rivalries_more_common = yes
		hostile_action_vs_rival_bonuses = yes
	}
	character_modifier = {
		dread_baseline_add = 10
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = vengeful
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_vengeful_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_welcoming = { is_in_list = traits }
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_forbearing = { is_in_list = traits }
					culture_tradition:tradition_equitable = { is_in_list = traits }
					culture_tradition:tradition_charitable = { is_in_list = traits }
					culture_tradition:tradition_modest = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_zealous_people = {
	category = societal

	layers = {
		0 = learning
		1 = mediterranean
		4 = speech.dds
	}
	
	parameters = {
		zealous_trait_more_common = yes
		humble_trait_more_common = yes
		harder_to_convert_character_faith = yes
		harder_to_convert_county_faith = yes
	}
	character_modifier = {
		opinion_of_different_faith = -15
		ai_zeal = 25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = zealous
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_zealous_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_welcoming = { is_in_list = traits }
					culture_tradition:tradition_eye_for_an_eye = { is_in_list = traits }
					culture_tradition:tradition_forbearing = { is_in_list = traits }
					culture_tradition:tradition_equitable = { is_in_list = traits }
					culture_tradition:tradition_charitable = { is_in_list = traits }
					culture_tradition:tradition_modest = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_forbearing = {
	category = societal

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = philosopher.dds
	}
	
	parameters = {
		patient_trait_more_common = yes
		calm_trait_more_common = yes
	}
	character_modifier = {
		stress_gain_mult = -0.1
		dread_baseline_add = -5
		
		ai_war_cooldown = 3
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = patient
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_patient_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_welcoming = { is_in_list = traits }
					culture_tradition:tradition_eye_for_an_eye = { is_in_list = traits }
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_equitable = { is_in_list = traits }
					culture_tradition:tradition_charitable = { is_in_list = traits }
					culture_tradition:tradition_modest = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_equitable = {
	category = societal

	layers = {
		0 = diplo
		1 = mediterranean
		4 = hostages.dds
	}
	
	parameters = {
		just_trait_more_common = yes
		honest_trait_more_common = yes
		more_hostage_acceptance = yes
	}
	character_modifier = {
		hostile_scheme_phase_duration_add = medium_scheme_phase_duration_malus_value
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = just
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_just_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_welcoming = { is_in_list = traits }
					culture_tradition:tradition_eye_for_an_eye = { is_in_list = traits }
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_forbearing = { is_in_list = traits }
					culture_tradition:tradition_charitable = { is_in_list = traits }
					culture_tradition:tradition_modest = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_charitable = {
	category = societal

	layers = {
		0 = diplo
		1 = mena
		4 = ceremony.dds
	}
	
	parameters = {
		generous_trait_more_common = yes
		compassionate_trait_more_common = yes
		more_gift_opinion = yes
		gives_more_gifts = yes
	}
	character_modifier = {
		general_opinion = 5
		monthly_income_mult = -0.03
		ai_greed = -25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = generous
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_generous_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_welcoming = { is_in_list = traits }
					culture_tradition:tradition_eye_for_an_eye = { is_in_list = traits }
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_forbearing = { is_in_list = traits }
					culture_tradition:tradition_equitable = { is_in_list = traits }
					culture_tradition:tradition_modest = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_modest = {
	category = societal

	layers = {
		0 = learning
		1 = indian
		4 = artisan.dds
	}
	
	parameters = {
		temperate_trait_more_common = yes
		introverted_trait_bonuses = yes
		ambitious_trait_penalty = yes
	}
	character_modifier = {
		monthly_prestige_gain_mult = -0.1
		ai_boldness = -25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = temperate
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_temperate_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_welcoming = { is_in_list = traits }
					culture_tradition:tradition_eye_for_an_eye = { is_in_list = traits }
					culture_tradition:tradition_zealous_people = { is_in_list = traits }
					culture_tradition:tradition_forbearing = { is_in_list = traits }
					culture_tradition:tradition_equitable = { is_in_list = traits }
					culture_tradition:tradition_charitable = { is_in_list = traits }
				}
			}
			multiply = 0.1
		}
	}
}

tradition_practiced_pirates = {
	category = societal

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = battle.dds
	}
	
	can_pick = {
		custom_description = {
			text = percentage_of_culture_on_coast_desc
			any_culture_county = {
				percent >= 0.5
				any_county_province = {
					is_coastal = yes
				}
			}
		}
	}
	
	parameters = {
		culture_can_raid_at_sea_even_if_feudal = yes
		not_tribal_raiding_malus = yes
	}

	character_modifier = {
		max_loot_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_desc
				}
			}
			# Coastal requirement.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { # Should be fairly rare for cultures outside of a Berber heritage
				has_cultural_pillar = heritage_berber
			}
			multiply = 5
		}
	}
}

tradition_life_is_just_a_joke = {
	category = societal

	layers = {
		0 = intrigue
		1 = western
		4 = noble.dds
	}
	
	parameters = {
		# Gregarious, Content, Cynical, & Fickle all gain +5 same-culture opinion.
		life_is_a_joke_trait_same_culture_opinion = yes
		#lose stress on war declaration
		war_stress_loss = yes 
		#AI boldness increased
		added_character_boldness = yes
		cultrad_unlocks_t3_arbitrary_arrests = yes
	}

	character_modifier = {
		ai_boldness = high_positive_ai_value
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = cynical
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_cynical_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 0 } # The AI never pick this
}

tradition_artisans = {
	category = societal

	layers = {
		0 = steward
		1 = mena
		4 = artisan.dds
	}
	
	is_shown = {
		has_dlc_feature = royal_court
	}
	
	parameters = {
		improved_artisan_inspiration = yes
		improved_weaver_inspiration = yes
	}
	county_modifier = {
		build_gold_cost = -0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_completed_inspiration = yes
									any_courtier_or_guest = {
										OR = {
											has_completed_inspiration = yes
											exists = inspiration
										}
									}
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_courtier_or_guest_with_inspiration_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

tradition_noble_adoption = {
	category = societal

	layers = {
		0 = diplo
		1 = mena
		4 = diplomat.dds
	}
	
	is_shown = {
		NOT = { 
			has_game_rule = no_adoption
		}
	}
	
	parameters = {
		allows_adoption = yes
		free_adoption = yes
		better_ward_education = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
	}
}

###########################
# FP1 CULTURAL TRADITIONS 
###########################

#######################
# Norse Specific
#######################

tradition_fp1_coastal_warriors = {
	category = combat

	layers = {
		0 = martial
		1 = western
		4 = viking.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp1_dlc_trigger = yes
		NOT = { has_cultural_tradition = tradition_hird }
		has_cultural_pillar = heritage_north_germanic
	}

	can_pick = {
		# Must be of a suitable heritage.
		custom_tooltip = {
			text = northern_germanic_heritage_trigger
			has_cultural_pillar = heritage_north_germanic
		}
		# And have a coastal presence.
		custom_description = {
			text = culture_on_coast_desc
			any_culture_county = {
				any_county_province = {
					is_coastal = yes
				}
			}
		}
		# Shouldn't be combined with the following traditions:
		custom_tooltip = {
			text = cannot_have_tradition_warrior_culture
			NOT = { culture_tradition:tradition_warrior_culture = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_seafaring
			NOT = { culture_tradition:tradition_seafaring = { is_in_list = traits } }
		}
	}
	
	parameters = {
		unlock_maa_bondi = yes
		unlock_maa_vigmen = yes
		unlock_maa_varangian_veterans = yes
		unlock_maa_huscarls = yes
		strong_traits_more_valued = yes
		strong_traits_more_common = yes
		trade_ports_stationed_maa_bonus = yes
		trade_ports_enabled_for_tribals = yes
		unlock_voluntary_laampdom = yes
		more_likely_to_be_laamps = yes
	}

	character_modifier = {
		sea_travel_danger = medium_sea_danger_reduction
		coastal_sea_travel_danger = medium_sea_danger_reduction
		taiga_provisions_use_mult = -0.1
		forest_provisions_use_mult = -0.1
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			# Gotta be a heavily coastal culture not to get a surcharge.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_fp1_performative_honour = {
	category = societal

	layers = {
		0 = diplo
		1 = western
		4 = shieldmaiden.dds
	}

	is_shown = {
		# DLC check.
		has_fp1_dlc_trigger = yes
		has_cultural_pillar = heritage_north_germanic
	}
	
	can_pick = {
		# Must be of a suitable heritage.
		custom_tooltip = {
			text = northern_germanic_heritage_trigger
			has_cultural_pillar = heritage_north_germanic
		}
		# Shouldn't be combined with the following traditions:
		custom_tooltip = {
			text = cannot_have_tradition_fp1_trials_by_combat
			NOT = { culture_tradition:tradition_fp1_trials_by_combat = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_fp1_the_right_to_prove
			NOT = { culture_tradition:tradition_fp1_the_right_to_prove = { is_in_list = traits } }
		}
	}
	
	parameters = {
		has_access_to_shieldmaidens = yes
		has_access_to_trials_by_combat = yes
		craven_trait_costs_prestige = yes
		weak_traits_looked_down_upon = yes
	}

	character_modifier = {
		knight_limit = 1
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_courtier = {
								count >= 5
								prowess >= 10
								is_adult = yes
								NOT = { can_be_knight_trigger = { ARMY_OWNER = prev } }
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = courtiers_with_prowess_who_cant_be_knight_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_fp1_northern_stories = {
	category = societal

	layers = {
		0 = diplo
		1 = western
		4 = runestone.dds
	}

	is_shown = {
		# DLC check.
		has_fp1_dlc_trigger = yes
		has_cultural_pillar = heritage_north_germanic
	}
	
	can_pick = {
		# Must be of a suitable heritage.
		custom_tooltip = {
			text = northern_germanic_heritage_trigger
			has_cultural_pillar = heritage_north_germanic
		}
		# Shouldn't be combined with the following traditions:
		custom_tooltip = {
			text = cannot_have_tradition_runestones
			NOT = { culture_tradition:tradition_runestones = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_poetry
			NOT = { culture_tradition:tradition_poetry = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_storytellers
			NOT = { culture_tradition:tradition_storytellers = { is_in_list = traits } }
		}
	}
	
	parameters = {
		has_access_to_runestones = yes
		poet_trait_gives_bonuses = yes
		poet_trait_more_common = yes
		better_ward_education = yes
		tells_stories = yes
	}

	character_modifier = {
		owned_scheme_secrecy_add  = -15
		owned_legend_spread_mult = 0.1
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

#######################
# Generic
#######################

tradition_fp1_trials_by_combat = {
	category = societal

	layers = {
		0 = intrigue
		1 = western
		4 = fight.dds
	}

	is_shown = {
		# DLC check.
		has_fp1_dlc_trigger = yes
		has_cultural_pillar = heritage_north_germanic
	}
	
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_fp1_performative_honour
			NOT = { culture_tradition:tradition_fp1_performative_honour = { is_in_list = traits } }
		}
	}
	
	parameters = {
		has_access_to_trials_by_combat = yes
		blademaster_traits_give_learning = yes
		craven_trait_costs_prestige = yes
	}

	character_modifier = {
		knight_limit = 1
		accolade_glory_gain_mult = 0.1
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_courtly_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = education_martial_4
									has_trait = education_martial_5
								}
								learning >= 10
							}
						}
					}
					trigger_else_if = {
						limit = {
							scope:character = {
								OR = {
									has_trait = education_martial_4
									has_trait = education_martial_5
								}
								learning >= 10
							}
						}
						always = no
					}
					trigger_else_if = {
						limit = {
							scope:character.culture = {
								OR = {
									has_cultural_pillar = heritage_brythonic
									has_cultural_pillar = heritage_central_germanic
									has_cultural_pillar = heritage_frankish
									has_cultural_pillar = heritage_goidelic
									has_cultural_pillar = heritage_iberian
									has_cultural_pillar = heritage_latin
									has_cultural_pillar = heritage_west_germanic
								}
							}
						}
						always = no
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_martial_edu_and_learning_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

tradition_fp1_the_right_to_prove = {
	category = societal

	layers = {
		0 = intrigue
		1 = western
		4 = shieldmaiden.dds
	}

	is_shown = {
		# DLC check.
		has_fp1_dlc_trigger = yes
	}
	
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_fp1_performative_honour
			NOT = { culture_tradition:tradition_fp1_performative_honour = { is_in_list = traits } }
		}
	}
	
	parameters = {
		has_access_to_shieldmaidens = yes
	}

	character_modifier = {
		knight_limit = -2
		knight_effectiveness_mult = 0.25
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }

						# Egalitarian, provided you're moving *up* the scale. Somewhat less so when moving down.
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_courtier = {
								count >= 5
								prowess >= 10
								is_adult = yes
								NOT = { can_be_knight_trigger = { ARMY_OWNER = prev } }
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = courtiers_with_prowess_who_cant_be_knight_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_courtier = {
							count >= 5
							prowess >= 10
							is_adult = yes
							NOT = { can_be_knight_trigger = { ARMY_OWNER = prev } }
						}
					}
				}
			}
			multiply = 0
		}
	}
}

###########################
# FP2 CULTURAL TRADITIONS 
###########################

#######################
# Aragonese Specific
#######################

tradition_fp2_state_ransoming = {
	category = realm

	layers = {
		0 = steward
		1 = western
		4 = state_ransoming.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp2_dlc_trigger = yes
	}

	# Anyone can take this.
	
	parameters = {
		knights_die_less_but_are_captured_more = yes
		characters_more_likely_to_be_captured_in_sieges = yes
		can_demand_higher_ransoms_from_lower_tiers = yes
	}

	character_modifier = {
		hard_casualty_modifier = -0.5
		monthly_war_income_mult = -0.25
	}

	county_modifier = {
		# Naturally, people are more keen to turn up to serve.
		levy_size = 0.1
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_communal_desc
				}
			}
			# Heritage or language
			if = {
				limit = {
					NOR = {
						has_cultural_pillar = heritage_iberian
						AND = {
							exists = culture_head
							culture_head = { knows_language = language_iberian }
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lack_iberian_heritage_or_language_penalty_desc
				}
			}
			# General replacement stuff.
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

#######################
# Castilian Specific
#######################

tradition_fp2_strategy_gamers = {
	category = ritual

	layers = {
		0 = diplo
		1 = western
		4 = board_gamers.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp2_dlc_trigger = yes
	}

	# Anyone can take this.
	
	parameters = {
		commanders_likelier_to_gain_commander_traits = yes
		may_challenge_to_board_games = yes
		may_wager_land_on_board_games = yes
	}

	character_modifier = {
		movement_speed = 0.1
		prowess = medium_skill_penalty
		martial = medium_skill_bonus
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_courtly_desc
				}
			}
			# Either high martial, high learning, or a chess board required.
			if = {
				limit = { exists = culture_head }
				if = {
					limit = {
						culture_head = {
							NOR = {
								martial >= very_high_skill_rating
								learning >= very_high_skill_rating
								any_character_artifact = { has_variable = can_be_used_for_board_games }
							}
						}
					}
					add = {
						value = tradition_unfulfilled_criteria_penalty
						desc = lack_martial_learning_or_chess_board_penalty_desc
					}
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0
		
		if = {
			limit = { exists = culture_head }
			culture_head = {
				# Absolute nerds.
				if = {
					limit = {
						martial >= extremely_high_skill_rating
						learning >= extremely_high_skill_rating
						has_trait = scholar
					}
					add = 100
				}
				# People who got suckered in & accidentally started a trend.
				if = {
					limit = {
						any_character_artifact = { has_variable = can_be_used_for_board_games }
					}
					add = 100
				}
			}
		}
	}
}

#######################
# Andalusian Specific
#######################

tradition_fp2_malleable_subjects = {
	category = realm

	layers = {
		0 = intrigue
		1 = mena
		4 = malleable_subjects.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp2_dlc_trigger = yes
		has_cultural_pillar = heritage_iberian
	}

	can_pick = {
		# Must be of a suitable heritage.
		custom_tooltip = {
			text = iberian_heritage_trigger
			has_cultural_pillar = heritage_iberian
		}
	}
	
	parameters = {
		doesnt_care_about_culture_faith_in_factions = yes
		wants_to_learn_liege_language = yes
		harder_to_convert_county_culture_without_heritage = yes
		easier_to_convert_county_culture_with_heritage = yes
		powerful_foreign_knights_find_you_attractive = yes
		# ^[blushes]
	}

	character_modifier = {
		mercenary_hire_cost_mult = -0.5
		vassal_levy_contribution_mult = 0.25
		different_culture_opinion = 10
		ignore_negative_opinion_of_culture = yes
	}

	culture_modifier = {
		mercenary_count_mult = 2
		cultural_acceptance_gain_mult = 0.25
	}

	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_or_courtly_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0
		# Players might want this, but the AI never does.
	}
}

#######################
# Generic
#######################

tradition_fp2_ritualised_friendship = {
	category = societal

	layers = {
		0 = diplo
		1 = western
		4 = ritualised_friendship.dds
	}
	
	is_shown = {
		# DLC check.
		#has_fp2_dlc_trigger = yes
	}

	can_pick = {
		# Must have at least one friend. No friendless losers. Especially you, Nick.
		custom_tooltip = {
			text = need_at_least_one_friend
			culture_head ?= {
				any_relation = {
					type = friend
					count >= 1
				}
			}
		}
	}
	
	parameters = {
		automatic_befriend_access = yes
		may_propose_best_friendship = yes
		strong_hooks_and_stress_effects_best_friends = yes
		may_select_friendship_synergy_bonus = yes
	}

	character_modifier = {
		scheme_phase_duration_against_friend_add = 20
		scheme_phase_duration_against_best_friend_add = 40
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# No ethos requirement: everyone likes friends.
			# Need at least three friends.
			if = {
				limit = { exists = culture_head }
				if = {
					limit = {
						culture_head = {
							any_relation = {
								type = friend
								count < 3
							}
						}
					}
					add = {
						value = tradition_unfulfilled_criteria_penalty
						desc = guess_you_need_more_friends_desc
					}
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0

		if = {
			limit = { exists = culture_head }
			culture_head = {
				# Some traits make you want to codify this more...
				if = {
					limit = { has_trait = gregarious }
					add = 50
				}
				if = {
					limit = { has_trait = just }
					add = 25
				}
				if = {
					limit = { has_trait = compassionate }
					add = 25
				}
				# ... but arbitrary characters have zero interest in anything nearly so formal
				if = {
					limit = { has_trait = arbitrary }
					add = -200
				}
				# We don't modify down for shy because, if anything, you'd expect a shy person to be more serious about the few friends they *do* have.
				# Having lots of friends makes you more likely to want this.
				if = {
					limit = {
						any_relation = {
							type = friend
							count >= 4
						}
					}
					add = 50
				}
				# As does having a best friend already.
				if = {
					limit = {
						any_relation = {
							type = best_friend
							count >= 1
						}
					}
					add = 25
				}
				# And certain lifestyles also make you want to focus on this.
				if = {
					limit = { has_focus = martial_chivalry_focus }
					add = 10
				}
			}
		}
	}
}

###########################
# FP3 CULTURAL TRADITIONS 
###########################

#######################
# Central Asian Specific
#######################

tradition_fp3_frontier_warriors = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = dismounted_warrior.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp3_dlc_trigger = yes
		
		# Any culture present in the given area can pick this
		any_culture_county = {
			any_county_province = {
				OR = {
					geographical_region = world_transoxiana
					geographical_region = world_khorasan
					geographical_region = world_steppe_tarim
				}
			}
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		# Must have a significant cultural presence in the general Turanian area, i.e. the "frontier"
		custom_tooltip = {
			text = culture_on_eastern_frontier_desc
			any_culture_county = {
				percent >= 0.2
				any_county_province = {
					OR = {
						geographical_region = world_transoxiana
						geographical_region = world_khorasan
						geographical_region = world_steppe_tarim
					}
				}
			}
		}	
	}
	
	parameters = {
		unlock_maa_tarkhan = yes
		faith_warrior_traits_more_valued = yes
	}
	province_modifier = {
		hostile_raid_time = 0.5
	}
	character_modifier = {
		mercenary_hire_cost_mult = -0.10
		movement_speed = 0.05
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			# Gotta be a steppe-heavy culture not to get a surcharge.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = steppe 
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = steppe_or_desert_percentage_desc
				}
			}
			#Turko-Mongol-Iranians get it cheaper!
			if = {
				limit = {
					NOR = {
						has_cultural_pillar = heritage_iranian
						has_cultural_pillar = heritage_turkic
						has_cultural_pillar = heritage_mongolic
						has_cultural_pillar = heritage_tocharian
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_of_central_asian_heritage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								terrain = steppe 
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

#######################
# Persian Specific
#######################

tradition_fp3_irrigation_experts = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = water_technology.dds
	}

	is_shown = {
		# DLC check.
		has_fp3_dlc_trigger = yes
		has_cultural_pillar = heritage_iranian
		NOT = { has_cultural_tradition = tradition_dryland_dwellers }
	}
	
	can_pick = {
		custom_description = {
			text = culture_in_dryland_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = drylands
						terrain = desert
						terrain = desert_mountains
					}
				}
			}
		}
		# Shouldn't be combined with the following traditions:
		custom_tooltip = {
			text = cannot_have_tradition_dryland_dwellers
			NOT = { culture_tradition:tradition_dryland_dwellers = { is_in_list = traits } } #this is another approach to drylands dwelling
		}
	}
	
	parameters = {
		innovative_traits_more_valued = yes
		unlocks_qanat_building = yes
		plantations_building_bonuses = yes
		drylands_hunt_success_chance = yes
	}
	character_modifier = {
		negate_health_penalty_add = 0.1
		desert_travel_danger = desert_medium_danger_reduction
		drylands_travel_danger = drylands_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	county_modifier = {
		desert_development_growth_factor = 0.35
		drylands_development_growth_factor = 0.15
	}
	province_modifier = {
		desert_construction_gold_cost = -0.1
		drylands_construction_gold_cost = -0.1
		desert_holding_construction_gold_cost = -0.1
		drylands_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOT = { #if the realm isn't very dry, the AI won't pick this
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.4
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						OR = {
							terrain = drylands
							terrain = desert
						}
					}
				}
			}
			multiply = 4
		}
	}
}

tradition_fp3_beacon_of_learning = { # Offshoot of tradition_philosopher_culture
	category = societal

	layers = {
		0 = learning
		1 = mena
		4 = beacon_of_learning.dds
	}
	
	is_shown = {
		has_fp3_dlc_trigger = yes
		has_cultural_pillar = heritage_iranian
		NOT = { has_cultural_tradition = tradition_philosopher_culture } # Replaces Philosopher Culture
	}

	can_pick = {
		custom_description = {
			text = culture_not_bellicose
			NOT = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
		}
		NOT = { has_cultural_tradition = tradition_warrior_culture }
		NOT = { has_cultural_tradition = tradition_philosopher_culture }
	}
	can_pick_for_hybridization = {
		custom_tooltip = {
			text = no_warrior_culture
			NOT = { # Only blocks polygamous to avoid duplicate warnings, but is blocked by concubines
				culture_tradition:tradition_warrior_culture = { is_in_list = traits }
			}
		}
		custom_tooltip = {
			text = no_philosopher_culture
			NOT = { # Only blocks polygamous to avoid duplicate warnings, but is blocked by concubines
				culture_tradition:tradition_philosopher_culture = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		pensive_trait_more_common = yes
		rowdy_trait_less_common = yes
		innovation_from_learning_traits = yes
		can_appoint_court_scholar = yes
		guardian_education_better_outcomes = yes
	}

	character_modifier = {
		monthly_learning_lifestyle_xp_gain_mult = 0.2
		learning_per_piety_level = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = scholar
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_scholar_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_courtly = { is_in_list = traits }
					culture_pillar:ethos_communal = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

# Replaces Refined Poetry
tradition_fp3_enlightened_magnates = {
	category = societal

	layers = {
		0 = diplo
		1 = mena
		4 = jirga.dds
	}

	is_shown = {
		has_fp3_dlc_trigger = yes
		has_cultural_pillar = heritage_iranian
		NOT = { has_cultural_tradition = tradition_poetry }
	}

	parameters = {
		poet_trait_gives_bonuses = yes
		poet_trait_more_common = yes
		characters_are_better_court_poets = yes
		characters_are_better_tax_collector = yes
		unlock_tax_obligation_deqhan = yes
	}

	character_modifier = {
		clan_tax_slot_add  = 1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_poetry_travel_discount
					}

				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 125
		if = {
			limit = { # AI should avoid stacking traditions for courtly court positions
				culture_tradition:tradition_music_theory = { is_in_list = traits }
			}
			multiply = 0.25
		}
	}
}

#######################
# Afghanistan/Baluchistan Specific
#######################

tradition_fp3_jirga = {
	category = regional

	layers = {
		0 = learning
		1 = indian
		4 = jirga.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp3_dlc_trigger = yes
		OR = {
			has_cultural_pillar = heritage_iranian
			has_cultural_pillar = heritage_indo_aryan
		}
	}
	
	can_pick = {
		scope:character = {
			government_has_flag = government_is_tribal #This tradition is really a holdover from tribal culture, and though the Afghanis might have it despite having changed government forms, others cannot pick it now.
		}
	}
	
	parameters = {
		tribal_elective_enabled = yes
		just_trait_gives_bonuses = yes
		pardoning_gives_prestige = yes
	}
	character_modifier = {
		owned_personal_scheme_success_chance_add = 10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								county_opinion < 0
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = counties_with_low_county_opinion_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = {
					culture_tradition:tradition_things = { is_in_list = traits }
					culture_tradition:tradition_the_witenagemot = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_fp3_pragmatic_creed = {
	category = regional

	layers = {
		0 = diplo
		1 = mena
		4 = pragmatic_creed.dds
	}
	
	is_shown = {
		# DLC check.
		has_fp3_dlc_trigger = yes
		has_cultural_pillar = heritage_iranian
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	
	parameters = {
		unlock_maa_zupin_warrior = yes
		diligent_trait_more_common = yes
		pragmatic_traits_county_opinion_modifiers = yes
		commanders_likelier_to_gain_commander_traits = yes
	}
	character_modifier = {
		skirmishers_toughness_mult = 0.10
		skirmishers_maintenance_mult = -0.15
  		heavy_cavalry_maintenance_mult = 0.15
  		light_cavalry_maintenance_mult = 0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_courtly = { is_in_list = traits }
					culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_spiritual_desc
				}
			}
			# Gotta be a mountain-heavy culture not to get a surcharge.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				OR = { # Don't pick this if the culture have Light Cavalry or Heavy Cavalry MaAs
					culture_has_heavy_cavalry_maa = yes
					culture_has_light_cavalry_maa = yes
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = { # Less likely for cultures who doesn't descend from Daylamite
					any_parent_culture_or_above = {
						this = culture:daylamite
					}
				}
			}
			multiply = 0.75
		}
	}
}

#######################
# Kurdish Specific
#######################

tradition_fp3_fierce_independence = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = fierce_independence.dds
	}
	
	is_shown = {
		has_fp3_dlc_trigger = yes
		has_cultural_pillar = heritage_iranian
	}

	can_pick = {
		NOT = {
			has_cultural_tradition = tradition_staunch_traditionalists
		}
	}
	
	parameters = {
		unlock_maa_tawashi = yes
		harder_to_hybridize = yes
		harder_to_convert_county_culture = yes
	}

	character_modifier = {
		controlled_province_advantage = 5
		same_culture_opinion = 5
		opinion_of_liege = -10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							NOT = {
								culture = scope:character.culture
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_other_cultures_in_realm_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_stoic = { is_in_list = traits }
					culture_pillar:ethos_communal = { is_in_list = traits }
				}
			}
			multiply = 0.5
		}
	}
}

###########################
# EP2 CULTURAL TRADITIONS 
###########################

#######################
# Generic
#######################

tradition_ep2_avid_falconers = {
	category = societal

	layers = {
		0 = diplo
		1 = mena
		4 = hunter.dds
	}
	
	is_shown = {
		# DLC check.
		has_dlc_feature = tours_and_tournaments
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_vegetarianism
			NOT = { culture_tradition:tradition_vegetarianism = { is_in_list = traits } }
		}
	}

	parameters = {
		more_frequent_hunts = yes
		hunting_traits_more_valued = yes
		falconer_traits_more_common = yes
		always_unlock_legendary_hunting_lodge = yes
	}

	province_modifier = {
		stationed_maa_pursuit_mult = 0.15
	}
	
	cost = {
		prestige = {
			# Base cost.
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_courtly_desc
				}
			}
			# General replacement stuff.
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100

		if = {
			limit = { exists = culture_head }
			culture_head = {
				# Some traits make you want to codify this more...
				if = {
					limit = { has_trait = arrogant }
					add = 25
				}
				if = {
					limit = { has_trait = diligent }
					add = 25
				}
				# ... and others less.
				if = {
					limit = {  has_trait = lazy }
					add = -50
				}
				if = {
					limit = {  has_trait = humble }
					add = -25
				}
			}
		}
	}
}

###########################
# EP2 CULTURAL TRADITIONS 
###########################

#######################
# Generic
#######################

tradition_ce1_ritual_washing = {
	category = ritual

	layers = {
		0 = diplo
		1 = mena
		4 = ritual_washing.dds
	}
	
	character_modifier = {
 		monthly_learning_lifestyle_xp_gain_mult = 0.1
	}
	
	parameters = {
		better_disease_resistance = yes
		diligent_trait_more_common = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								employs_court_position = court_physician_court_position
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = doesnt_employ_court_physician_desc
				}
			}
			#Discounts
			if = {
				limit = {
					scope:character = {
						OR = {
							has_trait = lifestyle_physician
							has_trait = whole_of_body
						}
					}
				}
				add = {
					value = tradition_trait_discount
					desc = cheaper_tradition_physician_or_whole_of_body
				}
			}
			if = {
				limit = {
					has_cultural_pillar = heritage_north_germanic
				}
				add = {
					value = tradition_heritage_discount
					desc = cheaper_tradition_norse_washing
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					has_perk = wash_your_hands_perk
				}
			}
			add = 100
		}
	}
}

#######################
# CULTURAL TRADITIONS #
#######################

######################
# EP3 Traditions 	 #
######################

tradition_ep3_indomitable_azatani = {
	category = regional

	layers = {
		0 = martial
		1 = mena
		4 = indomitable_azatani.dds 
	}

	is_shown = {
		OR = {
			this = culture:armenian
			any_parent_culture_or_above = {
				this = culture:armenian
			}
		}
		# DLC check.
		has_ep3_dlc_trigger = yes
		NOT = {
			has_cultural_tradition = tradition_horse_breeder
		}
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		trigger_if = {
			limit = {
				OR = {
					NOT = { exists = scope:replacing }
					NOT = { scope:replacing = culture_tradition:tradition_horse_breeder }
				}
			}
			NOT = { has_cultural_tradition = tradition_horse_breeder } #To prevent stacking after hybridization
		}
	}
	
	parameters = {
		unlock_maa_ayrudzi = yes
		house_hostility_more_common = yes
		vassals_more_likely_to_refuse_demands = yes
	}
	character_modifier = {
		light_cavalry_maintenance_mult = -0.15
		heavy_cavalry_maintenance_mult = -0.15
		archer_cavalry_maintenance_mult = -0.15
		light_cavalry_damage_add = 4
		heavy_cavalry_damage_add = 20
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						NOR = { # Culture Head need to have a 8 sized regiment of either Light/Heavy/Archer Cavalry
							number_maa_soldiers_of_base_type = {
								type = light_cavalry
								value >= 800
							}
							number_maa_soldiers_of_base_type = {
								type = heavy_cavalry
								value >= 400
							}
							number_maa_soldiers_of_base_type = {
								type = archer_cavalry
								value >= 800
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_cavalry_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = { # Reduce chance slightly if the culture has access to other "cavalry" types
				OR = {
					has_innovation = innovation_war_camels
					has_innovation = innovation_elephantry
				}
			}
			multiply = 0.4
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_ep3_audacious_cadets = {
	category = regional

	layers = {
		0 = martial
		1 = western
		4 = audacious_cadets.dds 
	}

	is_shown = {
		OR = {
			this = culture:norman
			any_parent_culture_or_above = {
				this = culture:norman
			}
		}
		# DLC check.
		has_ep3_dlc_trigger = yes
		NOT = {
			has_cultural_tradition = tradition_swords_for_hire
		}
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		trigger_if = {
			limit = {
				OR = {
					NOT = { exists = scope:replacing }
					NOT = { scope:replacing = culture_tradition:tradition_swords_for_hire }
				}
			}
			NOT = { has_cultural_tradition = tradition_swords_for_hire } #To prevent stacking after hybridization
		}
	}
	
	parameters = {
		unlock_maa_conrois = yes
		unlock_voluntary_laampdom = yes
		much_more_likely_to_be_laamps = yes
		ambitious_trait_more_common = yes
		wanderers_gain_extra_combat_skills = yes
		mercenary_courtiers_gain_extra_skills = yes
		more_likely_to_leave_court = yes
	}
	character_modifier = {
		heavy_cavalry_damage_add = 20
		heavy_cavalry_pursuit_add = 20
		heavy_cavalry_max_size_add = 2
		siege_phase_time = -0.1
		ai_honor = -20
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
		same_culture_mercenary_hire_cost_mult = -0.15
		character_travel_speed_mult = 0.1
		character_travel_safety_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						NOR = { # Culture Head need to have a 8 sized regiment of either Light/Heavy/Archer Cavalry
							number_maa_soldiers_of_base_type = {
								type = heavy_cavalry
								value >= 400
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_heavy_cavalry_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = {
				NOT = {
					culture_has_heavy_cavalry_maa = yes
				}
			}
			multiply = 0.25
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_ep3_imperial_tagmata = {
	category = regional

	layers = {
		0 = martial
		1 = mediterranean
		4 = imperial_tagmata.dds 
	}

	is_shown = {
		OR = {
			this = culture:greek
			any_parent_culture_or_above = {
				this = culture:greek
			}
			has_cultural_pillar = heritage_byzantine
		}
		# DLC check.
		has_ep3_dlc_trigger = yes
		NOT = {
			has_cultural_tradition = tradition_roman_legacy
		}
	}
	can_pick = {
	}
	
	parameters = {
		unlock_maa_cataphract = yes
		unlock_maa_akritai = yes
		unlock_maa_ballistrai = yes
		unlock_maa_skoutatoi = yes
		frontier_themes_borrow_neighbor_troops = yes
	}
	character_modifier = {
		heavy_cavalry_max_size_add = 2
		counter_efficiency = 0.1
		knight_effectiveness_mult = -0.25
		men_at_arms_title_limit = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_held_title = {
								tier = tier_county
								count >= 8
								any_county_province = {
									has_building_or_higher = stables_01
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = domain_counties_with_stables_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 400
		if = {
			limit = { # Admin should be more into this
				scope:character = {
					government_allows = administrative
				}
			}
			multiply = 2
		}
		else_if = {
			limit = {
				scope:character ?= {
					ai_has_warlike_personality = yes
				}
			}
			multiply = 4
		}
	}
}

tradition_ep3_roman_ceremonies = {
	category = regional

	layers = {
		0 = diplo
		1 = mediterranean
		4 = roman_ceremonies.dds
	}

	is_shown = {
		OR = {
			this = culture:greek
			any_parent_culture_or_above = {
				this = culture:greek
			}
			has_cultural_pillar = heritage_byzantine
			scope:character = {
				has_title = title:e_byzantium
			}
		}
		# DLC check.
		has_ep3_dlc_trigger = yes
		NOT = {
			has_cultural_tradition = tradition_byzantine_succession
		}
	}
	can_pick = {
	}
	
	parameters = {
		holds_triumphs = yes
		hosts_chariot_races = yes
		children_can_be_born_in_the_purple = yes
		# We use the co-emperors parameter for most things...
		unlock_co_emperors = yes
		# ... which means the junior emperor parameter is _mostly_ just here for the loc.
		unlock_junior_emperors = yes
		#byzantine_faction_preffered_claimants = yes
	}
	county_modifier = {
		county_opinion_add = -10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 50
							any_county_province = {
								geographical_region = custom_eastern_roman_empire
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_roman_empire_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = { # Admin should be more into this
				scope:character = {
					government_allows = administrative
				}
			}
			multiply = 2
		}
	}
}

tradition_ep3_palace_politics = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = palace_politics.dds 
	}

	is_shown = {
		OR = {
			this = culture:greek
			any_parent_culture_or_above = {
				this = culture:greek
			}
			has_cultural_pillar = heritage_byzantine
			scope:character = {
				has_title = title:e_byzantium
			}
		}
		# DLC check.
		has_ep3_dlc_trigger = yes
		NOT = {
			has_cultural_tradition = tradition_byzantine_succession
		}
	}
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_court_eunuchs
			NOT = { culture_tradition:tradition_court_eunuchs = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_merciful_blindings
			NOT = { culture_tradition:tradition_merciful_blindings = { is_in_list = traits } }
		}
	}
	
	parameters = {
		unlock_maa_varangian_guards = yes
		unlock_akolouthos = yes
		reduced_bodyguard_aptitude = yes
		can_blind_prisoners = yes
		can_castrate_prisoners = yes
		eunuch_trait_bonuses = yes
		can_appoint_chief_eunuch = yes
		family_castration = yes
		ambitious_trait_more_common = yes
		physical_disfigurement_blocks_inheritance = yes #Actually only blocks claimants and reduce score in elective. Also includes infertility for tooltip reasons.
		cultrad_unlocks_t2_countermeasures = yes
		palace_politics_trait_bonuses = yes
		palace_politics_trait_maluses = yes
	}
	character_modifier = {
		monthly_court_grandeur_change_mult = 0.2
		political_scheme_phase_duration_add = minor_scheme_phase_duration_bonus_value
		personal_scheme_phase_duration_add = minor_scheme_phase_duration_bonus_value
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					has_dlc_feature = royal_court
					OR = {
						scope:character = { has_royal_court = no }
						NOT = {
							scope:character = {
								court_grandeur_current_level >= very_high_court_grandeur_level
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_court_grandeur_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = { # Admin should be more into this
				scope:character = {
					government_allows = administrative
				}
			}
			multiply = 2
		}
	}
}

tradition_ep3_cultivated_sophistication = {
	category = societal

	layers = {
		0 = learning
		1 = mediterranean
		4 = cultivated_sophistication.dds
	}

	is_shown = {
		# DLC check.
		has_ep3_dlc_trigger = yes
	}
	can_pick = {
		custom_tooltip = {
			text = must_have_administrative_government_tt
			scope:character = { government_allows = administrative }
		}
	}
	
	parameters = {
		less_likely_to_culture_convert = yes
		other_cultures_more_likely_to_hybridize = yes
		estate_building_upgrade_development_gain = yes
		allows_noble_family_adoption = yes
	}
	character_modifier = {
		monthly_influence_mult = 0.1
		diplomatic_range_mult = 0.2
		cultural_head_fascination_mult = -0.10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							exists = capital_county
							capital_county = {
								tier = tier_county
								development_level >= 30
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = capital_province_development_level_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 200
		if = {
			limit = { # Admin should be more into this
				OR = {
					this = culture:greek
					any_parent_culture_or_above = {
						this = culture:greek
					}
					has_cultural_pillar = heritage_byzantine
				}
			}
			multiply = 2
		}
	}
}
